{
  "type": "coze-workflow-clipboard-data",
  "source": {
    "workflowId": "7504512247629971483",
    "flowMode": 0,
    "spaceId": "7395390088370880563",
    "isDouyin": false,
    "host": "www.coze.cn"
  },
  "json": {
    "nodes": [
      {
        "id": "121343",
        "type": "3",
        "meta": {
          "position": {
            "x": -1688.7173134741558,
            "y": -899.4680031379007
          }
        },
        "data": {
          "nodeMeta": {
            "description": "调用大语言模型,使用变量和提示词生成回复",
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg",
            "subTitle": "大模型",
            "title": "大模型-生成故事内容"
          },
          "inputs": {
            "inputParameters": [
              {
                "name": "input",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "100001",
                      "name": "story"
                    },
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              }
            ],
            "llmParam": [
              {
                "name": "temperature",
                "input": {
                  "type": "float",
                  "value": {
                    "type": "literal",
                    "content": "0.8",
                    "rawMeta": {
                      "type": 4
                    }
                  }
                }
              },
              {
                "name": "maxTokens",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "1024",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "responseFormat",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "0",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "modleName",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "DeepSeek-V3",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "modelType",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "1738675210",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "generationDiversity",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "balance",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "prompt",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "主题：{{input}}\n",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "enableChatHistory",
                "input": {
                  "type": "boolean",
                  "value": {
                    "type": "literal",
                    "content": false,
                    "rawMeta": {
                      "type": 3
                    }
                  }
                }
              },
              {
                "name": "chatHistoryRound",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "3",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "systemPrompt",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "# 角色\n你是一个擅长讲述儿童神话故事的讲述者，能用生动活泼、充满童趣的语言，将各种元素改编成适合儿童听的神话故事。\n\n## 技能\n### 技能 1: 改编儿童神话故事\n1. 以提供的内容为基础，把其中的历史元素、人物等巧妙转化为神话元素和神话角色。例如，将历史人物变成具有神奇魔力的神仙、精灵或妖怪等。\n2. 每段不超过 3 句话，多用短句制造轻松有趣的节奏。\n3. 加入至少 2 处符合神话故事风格的神奇元素描述，比如神奇的法宝、神秘的法术等。\n4. 在关键转折点使用充满奇幻色彩的感官描写，如闪耀的光芒、奇异的香味、神秘的触感等。\n5. 结尾以“小朋友们，这时候大家明白了……”句式点题。\n6. 生成 1000 字左右的儿童神话故事口播文案。\n7. 文案由长短句构成，遇到长句会用逗号分隔成短句，每个短句不能超过 19 个汉字。\n\n## 限制:\n- 只围绕将给定内容改编为儿童神话故事展开，拒绝回答无关话题。\n- 所输出的内容必须按照上述要求进行组织，不能偏离框架要求。 ",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              }
            ],
            "settingOnError": {
              "switch": false,
              "processType": 1,
              "timeoutMs": 180000,
              "retryTimes": 0
            }
          },
          "outputs": [
            {
              "type": "string",
              "name": "content",
              "required": false
            }
          ],
          "version": "3"
        },
        "_temp": {
          "bounds": {
            "x": -1868.7173134741558,
            "y": -899.4680031379007,
            "width": 360,
            "height": 165.9
          },
          "externalData": {
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg",
            "description": "调用大语言模型,使用变量和提示词生成回复",
            "title": "大模型",
            "mainColor": "#5C62FF"
          }
        }
      },
      {
        "id": "121555",
        "type": "28",
        "meta": {
          "position": {
            "x": -24.011900885527268,
            "y": -817.1107653452904
          },
          "canvasPosition": {
            "x": -943.8525175480871,
            "y": -89.40506828621409
          }
        },
        "data": {
          "inputs": {
            "batchSize": {
              "type": "integer",
              "value": {
                "type": "literal",
                "content": "100"
              }
            },
            "concurrentSize": {
              "type": "integer",
              "value": {
                "type": "literal",
                "content": 3,
                "rawMeta": {
                  "type": 2
                }
              }
            },
            "inputParameters": [
              {
                "name": "scenes",
                "input": {
                  "type": "list",
                  "schema": {
                    "type": "object",
                    "schema": [
                      {
                        "type": "string",
                        "name": "cap"
                      },
                      {
                        "type": "string",
                        "name": "desc_promopt"
                      }
                    ]
                  },
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "186126",
                      "name": "scenes"
                    },
                    "rawMeta": {
                      "type": 103
                    }
                  }
                }
              }
            ]
          },
          "nodeMeta": {
            "description": "通过设定批量运行次数和逻辑，运行批处理体内的任务",
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Batch-v2.jpg",
            "mainColor": "#00B2B2",
            "subTitle": "批处理",
            "title": "批处理"
          },
          "outputs": [
            {
              "name": "image_list",
              "input": {
                "type": "list",
                "schema": {
                  "type": "string"
                },
                "value": {
                  "type": "ref",
                  "content": {
                    "source": "block-output",
                    "blockID": "187299",
                    "name": "image_url"
                  },
                  "rawMeta": {
                    "type": 1
                  }
                }
              }
            },
            {
              "name": "link_list",
              "input": {
                "type": "list",
                "schema": {
                  "type": "string"
                },
                "value": {
                  "type": "ref",
                  "content": {
                    "source": "block-output",
                    "blockID": "182040",
                    "name": "data.link"
                  },
                  "rawMeta": {
                    "type": 1
                  }
                }
              }
            },
            {
              "name": "duration_list",
              "input": {
                "type": "list",
                "schema": {
                  "type": "integer"
                },
                "value": {
                  "type": "ref",
                  "content": {
                    "source": "block-output",
                    "blockID": "178228",
                    "name": "duration"
                  },
                  "rawMeta": {
                    "type": 2
                  }
                }
              }
            }
          ]
        },
        "blocks": [
          {
            "id": "131139",
            "type": "16",
            "meta": {
              "position": {
                "x": -158.61965605279613,
                "y": 45.35000000000007
              }
            },
            "data": {
              "inputs": {
                "apiParam": null,
                "inputParameters": [
                  {
                    "name": "desc_promopt",
                    "input": {
                      "type": "string",
                      "value": {
                        "type": "ref",
                        "content": {
                          "source": "block-output",
                          "blockID": "121555",
                          "name": "scenes.desc_promopt"
                        },
                        "rawMeta": {
                          "type": 1
                        }
                      }
                    }
                  }
                ],
                "modelSetting": {
                  "custom_ratio": {
                    "height": 768,
                    "width": 1024
                  },
                  "ddim_steps": 40,
                  "images_reference": {},
                  "model": 8,
                  "ratio": 0
                },
                "prompt": {
                  "negative_prompt": "",
                  "prompt": "卡通可爱插画风格：{{desc_promopt}}"
                },
                "references": [],
                "settingOnError": {
                  "switch": false,
                  "processType": 1,
                  "timeoutMs": 60000,
                  "retryTimes": 0
                }
              },
              "nodeMeta": {
                "description": "通过文字描述/添加参考图生成图片",
                "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-ImageGeneration-v2.jpg",
                "subTitle": "图像生成",
                "title": "图像生成"
              },
              "outputs": [
                {
                  "type": "string",
                  "assistType": 2,
                  "name": "data",
                  "required": false
                },
                {
                  "type": "string",
                  "name": "msg",
                  "required": false
                }
              ],
              "settings": null,
              "version": ""
            },
            "_temp": {
              "bounds": {
                "x": -1282.4721736008833,
                "y": -44.055068286214016,
                "width": 360,
                "height": 165.9
              },
              "externalData": {
                "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-ImageGeneration-v2.jpg",
                "description": "通过文字描述/添加参考图生成图片",
                "title": "图像生成",
                "mainColor": "#FF4DC3"
              }
            }
          },
          {
            "id": "133787",
            "type": "8",
            "meta": {
              "position": {
                "x": 321.4466939355177,
                "y": 58.35
              }
            },
            "data": {
              "nodeMeta": {
                "description": "连接多个下游分支，若设定的条件成立则仅运行对应的分支，若均不成立则只运行“否则”分支",
                "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Condition-v2.jpg",
                "mainColor": "#00B2B2",
                "subTitle": "选择器",
                "title": "选择器"
              },
              "inputs": {
                "branches": [
                  {
                    "condition": {
                      "logic": 2,
                      "conditions": [
                        {
                          "operator": 10,
                          "left": {
                            "input": {
                              "type": "string",
                              "assistType": 2,
                              "value": {
                                "type": "ref",
                                "content": {
                                  "source": "block-output",
                                  "blockID": "131139",
                                  "name": "data"
                                }
                              }
                            }
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            },
            "_temp": {
              "bounds": {
                "x": -802.4058236125694,
                "y": -31.055068286214087,
                "width": 360,
                "height": 139.9
              },
              "externalData": {
                "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Condition-v2.jpg",
                "description": "连接多个下游分支，若设定的条件成立则仅运行对应的分支，若均不成立则只运行“否则”分支",
                "title": "选择器",
                "mainColor": "#00B2B2"
              }
            }
          },
          {
            "id": "187299",
            "type": "5",
            "meta": {
              "position": {
                "x": 1678.8720501986647,
                "y": 26
              }
            },
            "data": {
              "nodeMeta": {
                "description": "编写代码，处理输入变量来生成返回值",
                "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg",
                "subTitle": "代码",
                "title": "代码_结果合并"
              },
              "inputs": {
                "inputParameters": [
                  {
                    "name": "image1",
                    "input": {
                      "type": "string",
                      "assistType": 2,
                      "value": {
                        "type": "ref",
                        "content": {
                          "source": "block-output",
                          "blockID": "131139",
                          "name": "data"
                        },
                        "rawMeta": {
                          "type": 7
                        }
                      }
                    }
                  },
                  {
                    "name": "image2",
                    "input": {
                      "type": "string",
                      "assistType": 2,
                      "value": {
                        "type": "ref",
                        "content": {
                          "source": "block-output",
                          "blockID": "1667619",
                          "name": "data"
                        },
                        "rawMeta": {
                          "type": 7
                        }
                      }
                    }
                  }
                ],
                "code": "// 在这里，您可以通过 ‘params’  获取节点中的输入变量，并通过 'ret' 输出结果\n// 'params' 和 'ret' 已经被正确地注入到环境中\n// 下面是一个示例，获取节点输入中参数名为‘input’的值：\n// const input = params.input; \n// 下面是一个示例，输出一个包含多种数据类型的 'ret' 对象：\n// const ret = { \"name\": ‘小明’, \"hobbies\": [“看书”, “旅游”] };\n\nasync function main({ params }: Args): Promise<Output> {\n\n\n    var image1 = params.image1;\n    var image2 = params.image2;\n    if(!image1){\n        image1 = image2;\n    }\n\n\n\n    // 构建输出对象\n    const ret = {\n        \"image_url\":  image1\n    };\n\n    return ret;\n}",
                "language": 5,
                "settingOnError": {
                  "switch": false,
                  "processType": 1,
                  "timeoutMs": 60000,
                  "retryTimes": 0
                }
              },
              "outputs": [
                {
                  "type": "string",
                  "name": "image_url",
                  "required": false
                }
              ]
            },
            "_temp": {
              "bounds": {
                "x": 555.0195326505776,
                "y": -63.40506828621409,
                "width": 360,
                "height": 113.9
              },
              "externalData": {
                "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg",
                "description": "编写代码，处理输入变量来生成返回值",
                "title": "代码",
                "mainColor": "#00B2B2"
              }
            }
          },
          {
            "id": "109484",
            "type": "4",
            "meta": {
              "position": {
                "x": 758.8720501986647,
                "y": 197.75
              }
            },
            "data": {
              "nodeMeta": {
                "description": "智能优化图像提示词",
                "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-plugin-better_prompt-v2.jpg",
                "subtitle": "提示词优化:sd_better_prompt",
                "title": "sd_better_prompt"
              },
              "inputs": {
                "apiParam": [
                  {
                    "input": {
                      "type": "string",
                      "value": {
                        "content": "7439197952104726528",
                        "rawMeta": {
                          "type": 1
                        },
                        "type": "literal"
                      }
                    },
                    "name": "apiID"
                  },
                  {
                    "input": {
                      "type": "string",
                      "value": {
                        "content": "sd_better_prompt",
                        "rawMeta": {
                          "type": 1
                        },
                        "type": "literal"
                      }
                    },
                    "name": "apiName"
                  },
                  {
                    "input": {
                      "type": "string",
                      "value": {
                        "content": "7439197952104710144",
                        "rawMeta": {
                          "type": 1
                        },
                        "type": "literal"
                      }
                    },
                    "name": "pluginID"
                  },
                  {
                    "input": {
                      "type": "string",
                      "value": {
                        "content": "提示词优化",
                        "rawMeta": {
                          "type": 1
                        },
                        "type": "literal"
                      }
                    },
                    "name": "pluginName"
                  },
                  {
                    "input": {
                      "type": "string",
                      "value": {
                        "content": "",
                        "rawMeta": {
                          "type": 1
                        },
                        "type": "literal"
                      }
                    },
                    "name": "pluginVersion"
                  },
                  {
                    "input": {
                      "type": "string",
                      "value": {
                        "content": "",
                        "rawMeta": {
                          "type": 1
                        },
                        "type": "literal"
                      }
                    },
                    "name": "tips"
                  },
                  {
                    "input": {
                      "type": "string",
                      "value": {
                        "content": "",
                        "rawMeta": {
                          "type": 1
                        },
                        "type": "literal"
                      }
                    },
                    "name": "outDocLink"
                  }
                ],
                "inputParameters": [
                  {
                    "name": "prompt",
                    "input": {
                      "type": "string",
                      "value": {
                        "type": "ref",
                        "content": {
                          "source": "block-output",
                          "blockID": "121555",
                          "name": "scenes.desc_promopt"
                        },
                        "rawMeta": {
                          "type": 1
                        }
                      }
                    }
                  }
                ],
                "settingOnError": {
                  "processType": 1,
                  "timeoutMs": 180000,
                  "retryTimes": 0
                }
              },
              "outputs": [
                {
                  "type": "string",
                  "name": "data",
                  "required": false
                },
                {
                  "type": "string",
                  "name": "msg",
                  "required": false
                }
              ]
            },
            "_temp": {
              "bounds": {
                "x": -364.9804673494224,
                "y": 108.34493171378591,
                "width": 360,
                "height": 113.9
              },
              "externalData": {
                "icon": "https://lf26-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/1682717607724762_1737442044729286337_eWiqvwPv2g.jpg?lk3s=cd508e2b&x-expires=1750400007&x-signature=6UPh0c8%2BcrcYkTaEzD4LmmeU7BE%3D",
                "apiName": "sd_better_prompt",
                "pluginID": "7439197952104710144",
                "pluginProductStatus": 1,
                "pluginProductUnlistType": 0,
                "pluginType": 1,
                "spaceID": "7352795533666664448",
                "inputs": [
                  {
                    "description": "prompt",
                    "input": {},
                    "name": "prompt",
                    "required": true,
                    "title": "提示词",
                    "type": "string"
                  }
                ],
                "outputs": [
                  {
                    "input": {},
                    "name": "data",
                    "required": false,
                    "type": "string"
                  },
                  {
                    "input": {},
                    "name": "msg",
                    "required": false,
                    "type": "string"
                  }
                ],
                "updateTime": 1747807387,
                "latestVersionTs": "0",
                "latestVersionName": "",
                "versionName": "",
                "description": "智能优化图像提示词",
                "title": "sd_better_prompt",
                "mainColor": "#CA61FF"
              }
            }
          },
          {
            "id": "1667619",
            "type": "16",
            "meta": {
              "position": {
                "x": 1183.7559377191153,
                "y": 139.4
              }
            },
            "data": {
              "inputs": {
                "apiParam": null,
                "inputParameters": [
                  {
                    "name": "desc_promopt",
                    "input": {
                      "type": "string",
                      "value": {
                        "type": "ref",
                        "content": {
                          "source": "block-output",
                          "blockID": "109484",
                          "name": "data"
                        },
                        "rawMeta": {
                          "type": 1
                        }
                      }
                    }
                  }
                ],
                "modelSetting": {
                  "custom_ratio": {
                    "height": 768,
                    "width": 1024
                  },
                  "ddim_steps": 40,
                  "images_reference": {},
                  "model": 8,
                  "ratio": 0
                },
                "prompt": {
                  "negative_prompt": "",
                  "prompt": "{{desc_promopt}}"
                },
                "references": [],
                "settingOnError": {
                  "switch": false,
                  "processType": 1,
                  "timeoutMs": 60000,
                  "retryTimes": 0
                }
              },
              "nodeMeta": {
                "description": "通过文字描述/添加参考图生成图片",
                "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-ImageGeneration-v2.jpg",
                "subTitle": "图像生成",
                "title": "图像生成_补图"
              },
              "outputs": [
                {
                  "type": "string",
                  "assistType": 2,
                  "name": "data",
                  "required": false
                },
                {
                  "type": "string",
                  "name": "msg",
                  "required": false
                }
              ],
              "settings": null,
              "version": ""
            },
            "_temp": {
              "bounds": {
                "x": 59.90342017102819,
                "y": 49.99493171378592,
                "width": 360,
                "height": 165.9
              },
              "externalData": {
                "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-ImageGeneration-v2.jpg",
                "description": "通过文字描述/添加参考图生成图片",
                "title": "图像生成",
                "mainColor": "#FF4DC3"
              }
            }
          },
          {
            "id": "182040",
            "type": "4",
            "meta": {
              "position": {
                "x": -178.68600604110992,
                "y": 295.49952498247075
              }
            },
            "data": {
              "nodeMeta": {
                "description": "根据音色和文本合成音频",
                "icon": "https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/dc534eb73e7046b1807db96af7c0e212~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749019302&x-signature=ANAaS2aakkuW4eUDLIx7DP8XEoI%3D",
                "subtitle": "语音合成:speech_synthesis",
                "title": "speech_synthesis"
              },
              "inputs": {
                "apiParam": [
                  {
                    "input": {
                      "type": "string",
                      "value": {
                        "content": "7426655854067367946",
                        "rawMeta": {
                          "type": 1
                        },
                        "type": "literal"
                      }
                    },
                    "name": "apiID"
                  },
                  {
                    "input": {
                      "type": "string",
                      "value": {
                        "content": "speech_synthesis",
                        "rawMeta": {
                          "type": 1
                        },
                        "type": "literal"
                      }
                    },
                    "name": "apiName"
                  },
                  {
                    "input": {
                      "type": "string",
                      "value": {
                        "content": "7426655854067351562",
                        "rawMeta": {
                          "type": 1
                        },
                        "type": "literal"
                      }
                    },
                    "name": "pluginID"
                  },
                  {
                    "input": {
                      "type": "string",
                      "value": {
                        "content": "语音合成",
                        "rawMeta": {
                          "type": 1
                        },
                        "type": "literal"
                      }
                    },
                    "name": "pluginName"
                  },
                  {
                    "input": {
                      "type": "string",
                      "value": {
                        "content": "",
                        "rawMeta": {
                          "type": 1
                        },
                        "type": "literal"
                      }
                    },
                    "name": "pluginVersion"
                  },
                  {
                    "input": {
                      "type": "string",
                      "value": {
                        "content": "",
                        "rawMeta": {
                          "type": 1
                        },
                        "type": "literal"
                      }
                    },
                    "name": "tips"
                  },
                  {
                    "input": {
                      "type": "string",
                      "value": {
                        "content": "",
                        "rawMeta": {
                          "type": 1
                        },
                        "type": "literal"
                      }
                    },
                    "name": "outDocLink"
                  }
                ],
                "inputParameters": [
                  {
                    "name": "text",
                    "input": {
                      "type": "string",
                      "value": {
                        "type": "ref",
                        "content": {
                          "source": "block-output",
                          "blockID": "121555",
                          "name": "scenes.cap"
                        },
                        "rawMeta": {
                          "type": 1
                        }
                      }
                    }
                  },
                  {
                    "name": "speed_ratio",
                    "input": {
                      "type": "float",
                      "value": {
                        "type": "literal",
                        "content": 1,
                        "rawMeta": {
                          "type": 4
                        }
                      }
                    }
                  },
                  {
                    "name": "voice_id",
                    "input": {
                      "type": "string",
                      "assistType": 12,
                      "value": {
                        "type": "literal",
                        "content": "7426725529589628955",
                        "rawMeta": {
                          "fileName": "东方浩然",
                          "type": 18
                        }
                      }
                    }
                  }
                ],
                "settingOnError": {
                  "processType": 1,
                  "timeoutMs": 180000,
                  "retryTimes": 0
                }
              },
              "outputs": [
                {
                  "type": "float",
                  "name": "code",
                  "required": false
                },
                {
                  "type": "object",
                  "name": "data",
                  "schema": [
                    {
                      "type": "string",
                      "name": "link",
                      "required": false
                    }
                  ],
                  "required": false
                },
                {
                  "type": "string",
                  "name": "log_id",
                  "required": false
                },
                {
                  "type": "string",
                  "name": "msg",
                  "required": false
                }
              ]
            },
            "_temp": {
              "bounds": {
                "x": -1302.538523589197,
                "y": 206.09445669625666,
                "width": 360,
                "height": 113.9
              },
              "externalData": {
                "icon": "https://lf3-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/372098605791453_1729153029627658847_7vpeyBUsGn.jpeg?lk3s=cd508e2b&x-expires=1750400007&x-signature=6NlxPo3PJNkeA5RvNofFQ8OX47s%3D",
                "apiName": "speech_synthesis",
                "pluginID": "7426655854067351562",
                "pluginProductStatus": 1,
                "pluginProductUnlistType": 0,
                "pluginType": 1,
                "spaceID": "7315016311652941851",
                "inputs": [
                  {
                    "assistType": 12,
                    "description": "voice id",
                    "input": {},
                    "name": "voice_id",
                    "required": false,
                    "type": "string"
                  },
                  {
                    "description": "语音语种，非必填，参考 https://bytedance.larkoffice.com/docx/WdDOdiB1BoRyBNxlkXWcn0n3nLc",
                    "input": {},
                    "name": "language",
                    "required": false,
                    "type": "string"
                  },
                  {
                    "defaultValue": "爽快思思/Skye",
                    "description": "音色ID，默认为爽快思思/Skye。详细音色列表参考 https://bytedance.larkoffice.com/docx/WdDOdiB1BoRyBNxlkXWcn0n3nLc, default value is 爽快思思/Skye",
                    "input": {},
                    "name": "speaker_id",
                    "required": false,
                    "type": "string"
                  },
                  {
                    "defaultValue": 1,
                    "description": "语速，范围是[0.2,3]，默认为1，通常保留一位小数即可, default value is 1",
                    "input": {},
                    "name": "speed_ratio",
                    "required": false,
                    "type": "float"
                  },
                  {
                    "description": "要合成音频的文本内容",
                    "input": {},
                    "name": "text",
                    "required": true,
                    "type": "string"
                  }
                ],
                "outputs": [
                  {
                    "input": {},
                    "name": "code",
                    "required": false,
                    "type": "float"
                  },
                  {
                    "input": {},
                    "name": "data",
                    "required": false,
                    "schema": [
                      {
                        "input": {},
                        "name": "link",
                        "required": false,
                        "type": "string"
                      }
                    ],
                    "type": "object"
                  },
                  {
                    "input": {},
                    "name": "log_id",
                    "required": false,
                    "type": "string"
                  },
                  {
                    "input": {},
                    "name": "msg",
                    "required": false,
                    "type": "string"
                  }
                ],
                "updateTime": 1747807288,
                "latestVersionTs": "0",
                "latestVersionName": "",
                "versionName": "",
                "description": "根据音色和文本合成音频",
                "title": "speech_synthesis",
                "mainColor": "#CA61FF"
              }
            }
          },
          {
            "id": "178228",
            "type": "4",
            "meta": {
              "position": {
                "x": 291.34716895304723,
                "y": 353.7317499415692
              }
            },
            "data": {
              "nodeMeta": {
                "description": "剪映草稿，视频合成方案。????????????插件详情页面查看案例",
                "icon": "https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/58f8745c794f452a9b0c572c9a4b3e3a~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749019424&x-signature=3ok2yPv6y4mL9ketOUBg8SWfFhM%3D",
                "subtitle": "视频合成_剪映小助手:get_audio_duration",
                "title": "get_audio_duration"
              },
              "inputs": {
                "apiParam": [
                  {
                    "input": {
                      "type": "string",
                      "value": {
                        "content": "7474863657353117750",
                        "rawMeta": {
                          "type": 1
                        },
                        "type": "literal"
                      }
                    },
                    "name": "apiID"
                  },
                  {
                    "input": {
                      "type": "string",
                      "value": {
                        "content": "get_audio_duration",
                        "rawMeta": {
                          "type": 1
                        },
                        "type": "literal"
                      }
                    },
                    "name": "apiName"
                  },
                  {
                    "input": {
                      "type": "string",
                      "value": {
                        "content": "7457837925833801768",
                        "rawMeta": {
                          "type": 1
                        },
                        "type": "literal"
                      }
                    },
                    "name": "pluginID"
                  },
                  {
                    "input": {
                      "type": "string",
                      "value": {
                        "content": "视频合成_剪映小助手",
                        "rawMeta": {
                          "type": 1
                        },
                        "type": "literal"
                      }
                    },
                    "name": "pluginName"
                  },
                  {
                    "input": {
                      "type": "string",
                      "value": {
                        "content": "",
                        "rawMeta": {
                          "type": 1
                        },
                        "type": "literal"
                      }
                    },
                    "name": "pluginVersion"
                  },
                  {
                    "input": {
                      "type": "string",
                      "value": {
                        "content": "",
                        "rawMeta": {
                          "type": 1
                        },
                        "type": "literal"
                      }
                    },
                    "name": "tips"
                  },
                  {
                    "input": {
                      "type": "string",
                      "value": {
                        "content": "",
                        "rawMeta": {
                          "type": 1
                        },
                        "type": "literal"
                      }
                    },
                    "name": "outDocLink"
                  }
                ],
                "inputParameters": [
                  {
                    "name": "mp3_url",
                    "input": {
                      "type": "string",
                      "value": {
                        "type": "ref",
                        "content": {
                          "source": "block-output",
                          "blockID": "182040",
                          "name": "data.link"
                        },
                        "rawMeta": {
                          "type": 1
                        }
                      }
                    }
                  }
                ],
                "settingOnError": {
                  "processType": 1,
                  "timeoutMs": 180000,
                  "retryTimes": 0
                }
              },
              "outputs": [
                {
                  "type": "string",
                  "name": "message",
                  "required": false
                },
                {
                  "type": "integer",
                  "name": "duration",
                  "required": false
                }
              ]
            },
            "_temp": {
              "bounds": {
                "x": -832.5053485950399,
                "y": 264.3266816553551,
                "width": 360,
                "height": 137.9
              },
              "externalData": {
                "icon": "https://lf6-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/3778360647354254_1739242717113014582_ZXUfNgToeJ.png?lk3s=cd508e2b&x-expires=1750400007&x-signature=9Cm1r9M%2F6eUJFBkIsQ0qyFF0CeQ%3D",
                "apiName": "get_audio_duration",
                "pluginID": "7457837925833801768",
                "pluginProductStatus": 1,
                "pluginProductUnlistType": 0,
                "pluginType": 1,
                "spaceID": "7391771569926127635",
                "inputs": [
                  {
                    "description": "音频链接",
                    "input": {},
                    "name": "mp3_url",
                    "required": true,
                    "type": "string"
                  }
                ],
                "outputs": [
                  {
                    "input": {},
                    "name": "message",
                    "required": false,
                    "type": "string"
                  },
                  {
                    "input": {},
                    "name": "duration",
                    "required": false,
                    "type": "integer"
                  }
                ],
                "updateTime": 1747807587,
                "latestVersionTs": "0",
                "latestVersionName": "",
                "versionName": "",
                "description": "获取音频时长",
                "title": "get_audio_duration",
                "mainColor": "#CA61FF"
              }
            }
          }
        ],
        "edges": [
          {
            "sourceNodeID": "121555",
            "targetNodeID": "131139",
            "sourcePortID": "batch-function-inline-output"
          },
          {
            "sourceNodeID": "131139",
            "targetNodeID": "133787"
          },
          {
            "sourceNodeID": "133787",
            "targetNodeID": "187299",
            "sourcePortID": "true"
          },
          {
            "sourceNodeID": "133787",
            "targetNodeID": "109484",
            "sourcePortID": "false"
          },
          {
            "sourceNodeID": "1667619",
            "targetNodeID": "187299"
          },
          {
            "sourceNodeID": "187299",
            "targetNodeID": "121555",
            "targetPortID": "batch-function-inline-input"
          },
          {
            "sourceNodeID": "109484",
            "targetNodeID": "1667619"
          },
          {
            "sourceNodeID": "121555",
            "targetNodeID": "182040",
            "sourcePortID": "batch-function-inline-output"
          },
          {
            "sourceNodeID": "182040",
            "targetNodeID": "178228"
          },
          {
            "sourceNodeID": "178228",
            "targetNodeID": "121555",
            "targetPortID": "batch-function-inline-input"
          }
        ],
        "_temp": {
          "bounds": {
            "x": -204.01190088552727,
            "y": -817.1107653452904,
            "width": 360,
            "height": 113.9
          },
          "externalData": {
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Batch-v2.jpg",
            "description": "通过设定批量运行次数和逻辑，运行批处理体内的任务",
            "title": "批处理",
            "mainColor": "#00B2B2"
          }
        }
      },
      {
        "id": "163547",
        "type": "5",
        "meta": {
          "position": {
            "x": 821.8531098441244,
            "y": -1054.8708993856194
          }
        },
        "data": {
          "nodeMeta": {
            "description": "编写代码，处理输入变量来生成返回值",
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg",
            "subTitle": "代码",
            "title": "代码-视频组装"
          },
          "inputs": {
            "inputParameters": [
              {
                "name": "image_list",
                "input": {
                  "type": "list",
                  "schema": {
                    "type": "string"
                  },
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "121555",
                      "name": "image_list"
                    },
                    "rawMeta": {
                      "type": 99
                    }
                  }
                }
              },
              {
                "name": "audio_list",
                "input": {
                  "type": "list",
                  "schema": {
                    "type": "string"
                  },
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "121555",
                      "name": "link_list"
                    },
                    "rawMeta": {
                      "type": 99
                    }
                  }
                }
              },
              {
                "name": "duration_list",
                "input": {
                  "type": "list",
                  "schema": {
                    "type": "integer"
                  },
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "121555",
                      "name": "duration_list"
                    },
                    "rawMeta": {
                      "type": 100
                    }
                  }
                }
              },
              {
                "name": "scenes",
                "input": {
                  "type": "list",
                  "schema": {
                    "type": "object",
                    "schema": [
                      {
                        "type": "string",
                        "name": "cap"
                      },
                      {
                        "type": "string",
                        "name": "desc_promopt"
                      }
                    ]
                  },
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "186126",
                      "name": "scenes"
                    },
                    "rawMeta": {
                      "type": 103
                    }
                  }
                }
              },
              {
                "name": "title",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "100001",
                      "name": "story"
                    },
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "role_img_url",
                "input": {
                  "type": "string",
                  "assistType": 2,
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "170966",
                      "name": "data"
                    },
                    "rawMeta": {
                      "type": 7
                    }
                  }
                }
              }
            ],
            "code": "// 在这里，您可以通过 ‘params’  获取节点中的输入变量，并通过 'ret' 输出结果\n// 'params' 和 'ret' 已经被正确地注入到环境中\n// 下面是一个示例，获取节点输入中参数名为‘input’的值：\n// const input = params.input; \n// 下面是一个示例，输出一个包含多种数据类型的 'ret' 对象：\n// const ret = { \"name\": ‘小明’, \"hobbies\": [“看书”, “旅游”] };\n\nasync function main({ params }: Args): Promise<Output> {\n\n\n    const { image_list, audio_list, duration_list, scenes } = params;\n\n    // 处理音频数据\n    const audioData = [];\n    let audioStartTime = 0;\n    const aideoTimelines = [];\n    let maxDuration = 0;\n\n    const imageData = [];\n    \n    \n    for (let i = 0; i < audio_list.length && i < duration_list.length; i++) {\n        const duration = duration_list[i];\n        audioData.push({\n            audio_url: audio_list[i],\n            duration,\n            start: audioStartTime,\n            end: audioStartTime + duration\n        });\n        aideoTimelines.push({\n            start: audioStartTime,\n            end: audioStartTime + duration\n        });\n\n        if((i-1)%2==0){\n            imageData.push({\n                image_url: image_list[i],\n                start: audioStartTime,\n                end: audioStartTime + duration,\n                width: 1440,\n                height: 1080,\n                in_animation: \"轻微放大\",\n                in_animation_duration: 100000\n            });\n        } else{\n            imageData.push({\n                image_url: image_list[i],\n                start: audioStartTime,\n                end: audioStartTime + duration,\n                width: 1440,\n                height: 1080\n            });\n        }\n       \n        \n        audioStartTime += duration;\n        maxDuration = audioStartTime;\n    }\n\n    const roleImgData = [];\n    roleImgData.push({\n        image_url: params.role_img_url,\n        start: 0,\n        end: duration_list[0],\n        width: 1440,\n        height: 1080\n    });\n\n\n    const captions = scenes.map(item => item.cap);\n    const subtitleDurations = duration_list;\n    \n    const { textTimelines, processedSubtitles } = processSubtitles(\n        captions,\n        subtitleDurations\n    );\n\n\n    // 开场标题\n    const title = params.title;  // 标题\n    const title_list = [];\n    title_list.push(title);\n    const title_timelimes = [\n        {\n            start: 0,\n            end: duration_list[0]\n        }\n    ];\n    \n    // 开场音效 4884897\n    var kc_audio_url = \"https://p9-bot-workflow-sign.byteimg.com/tos-cn-i-mdko3gqilj/c04e7b48586a48f1863e421be4b10cf1.MP3~tplv-mdko3gqilj-image.image?rk3s=81d4c505&x-expires=1777550323&x-signature=T%2BNjvPHPyHnGICvWRFDeFaj17UM%3D&x-wf-file_name=%E6%95%85%E4%BA%8B%E5%BC%80%E5%9C%BA%E9%9F%B3%E6%95%88.MP3\";\n    // 背景音乐 343666938\n    var bg_audio_url =\"https://p3-bot-workflow-sign.byteimg.com/tos-cn-i-mdko3gqilj/5603dc783a6c4b75a4bf4e1b44086ad5.MP3~tplv-mdko3gqilj-image.image?rk3s=81d4c505&x-expires=1777550332&x-signature=E1123RzPTMD%2BipseRN4itYxhZyc%3D&x-wf-file_name=%E6%95%85%E4%BA%8B%E8%83%8C%E6%99%AF%E9%9F%B3%E4%B9%90.MP3\";\n\n    const bg_audio_data = [];\n    bg_audio_data.push({\n        audio_url: bg_audio_url,\n        duraion: maxDuration,\n        start: 0,\n        end: maxDuration\n    });\n\n    const kc_audio_data = [];\n    kc_audio_data.push({\n        audio_url: kc_audio_url,\n        duration: 4884897,\n        start: 0,\n        end: 4884897\n    });\n    \n    // 构建输出对象\n    const ret = {\n        \"audioData\": JSON.stringify(audioData),\n        \"bgAudioData\": JSON.stringify(bg_audio_data),\n        \"kcAudioData\": JSON.stringify(kc_audio_data),\n        \"imageData\": JSON.stringify(imageData),\n        \"text_timielines\":textTimelines,\n        \"text_captions\":processedSubtitles,\n        \"title_list\": title_list,\n        \"title_timelimes\": title_timelimes,\n        \"roleImgData\": JSON.stringify(roleImgData)\n    };\n\n    return ret;\n}\n\n\n\nconst SUB_CONFIG = {\n    MAX_LINE_LENGTH: 25,\n    SPLIT_PRIORITY: ['。','！','？','，',',','：',':','、','；',';',' '], // 补充句子结束符\n    TIME_PRECISION: 3\n};\n\nfunction splitLongPhrase(text, maxLen) {\n    if (text.length <= maxLen) return [text];\n    \n    // 严格在maxLen范围内查找分隔符\n    for (const delimiter of SUB_CONFIG.SPLIT_PRIORITY) {\n        const pos = text.lastIndexOf(delimiter, maxLen - 1); // 关键修改：限制查找范围\n        if (pos > 0) {\n            const splitPos = pos + 1;\n            return [\n                text.substring(0, splitPos).trim(),\n                ...splitLongPhrase(text.substring(splitPos).trim(), maxLen)\n            ];\n        }\n    }\n\n    // 汉字边界检查防止越界\n    const startPos = Math.min(maxLen, text.length) - 1;\n    for (let i = startPos; i > 0; i--) {\n        if (/[\\p{Unified_Ideograph}]/u.test(text[i])) {\n            return [\n                text.substring(0, i + 1).trim(),\n                ...splitLongPhrase(text.substring(i + 1).trim(), maxLen)\n            ];\n        }\n    }\n\n    // 强制分割时保证不超过maxLen\n    const splitPos = Math.min(maxLen, text.length);\n    return [\n        text.substring(0, splitPos).trim(),\n        ...splitLongPhrase(text.substring(splitPos).trim(), maxLen)\n    ];\n}\n\nconst processSubtitles = (\n    captions,\n    subtitleDurations,\n    startTimeμs = 0 // 新增参数：起始时间（单位微秒，默认0）\n  ) => {\n    const cleanRegex = /[\\u3000\\u3002-\\u303F\\uff00-\\uffef\\u2000-\\u206F!\"#$%&'()*+\\-./<=>?@\\\\^_`{|}~]/g;\n    \n    let processedSubtitles = [];\n    let processedSubtitleDurations = [];\n    \n    captions.forEach((text, index) => {\n      const totalDuration = subtitleDurations[index];\n      let phrases = splitLongPhrase(text, SUB_CONFIG.MAX_LINE_LENGTH);\n      \n      phrases = phrases.map(p => p.replace(cleanRegex, '').trim())\n                     .filter(p => p.length > 0);\n  \n      if (phrases.length === 0) {\n        processedSubtitles.push('[无内容]');\n        processedSubtitleDurations.push(totalDuration);\n        return;\n      }\n  \n      const totalChars = phrases.reduce((sum, p) => sum + p.length, 0);\n      let accumulatedμs = 0;\n      \n      phrases.forEach((phrase, i) => {\n        const ratio = phrase.length / totalChars;\n        let durationμs = i === phrases.length - 1 \n          ? totalDuration - accumulatedμs\n          : Math.round(totalDuration * ratio);\n  \n        processedSubtitles.push(phrase);\n        processedSubtitleDurations.push(durationμs);\n        accumulatedμs += durationμs;\n      });\n    });\n  \n    // 时间轴生成（从指定起始时间开始）\n    const textTimelines = [];\n    let currentTime = startTimeμs; // 使用传入的起始时间\n    \n    processedSubtitleDurations.forEach(durationμs => {\n      const start = currentTime;\n      const end = start + durationμs;\n      \n      textTimelines.push({\n        start: start, // 直接使用整数\n        end: end\n      });\n      \n      currentTime = end; // 自动累计到下一段\n    });\n  \n    return { textTimelines, processedSubtitles };\n  };\n",
            "language": 5,
            "settingOnError": {
              "switch": false,
              "processType": 1,
              "timeoutMs": 60000,
              "retryTimes": 0
            }
          },
          "outputs": [
            {
              "type": "string",
              "name": "audioData",
              "required": false
            },
            {
              "type": "string",
              "name": "imageData",
              "required": false
            },
            {
              "type": "list",
              "name": "text_timielines",
              "schema": {
                "type": "object",
                "schema": []
              },
              "required": false
            },
            {
              "type": "list",
              "name": "text_captions",
              "schema": {
                "type": "string"
              },
              "required": false
            },
            {
              "type": "list",
              "name": "title_list",
              "schema": {
                "type": "string"
              },
              "required": false
            },
            {
              "type": "list",
              "name": "title_timelimes",
              "schema": {
                "type": "object",
                "schema": []
              },
              "required": false
            },
            {
              "type": "string",
              "name": "bgAudioData",
              "required": false
            },
            {
              "type": "string",
              "name": "kcAudioData",
              "required": false
            },
            {
              "type": "string",
              "name": "roleImgData",
              "required": false
            }
          ]
        },
        "_temp": {
          "bounds": {
            "x": 641.8531098441244,
            "y": -1054.8708993856194,
            "width": 360,
            "height": 113.9
          },
          "externalData": {
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg",
            "description": "编写代码，处理输入变量来生成返回值",
            "title": "代码",
            "mainColor": "#00B2B2"
          }
        }
      },
      {
        "id": "1165778",
        "type": "3",
        "meta": {
          "position": {
            "x": -1100.508081036281,
            "y": -803.6560643797528
          }
        },
        "data": {
          "nodeMeta": {
            "description": "调用大语言模型,使用变量和提示词生成回复",
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg",
            "subTitle": "大模型",
            "title": "大模型_分镜"
          },
          "inputs": {
            "inputParameters": [
              {
                "name": "content",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "121343",
                      "name": "content"
                    },
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              }
            ],
            "llmParam": [
              {
                "name": "temperature",
                "input": {
                  "type": "float",
                  "value": {
                    "type": "literal",
                    "content": "0.8",
                    "rawMeta": {
                      "type": 4
                    }
                  }
                }
              },
              {
                "name": "maxTokens",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "8192",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "responseFormat",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "2",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "modleName",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "DeepSeek-V3",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "modelType",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "1738675210",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "generationDiversity",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "default_val",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "prompt",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "故事原文内容：\n{{content}}",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "enableChatHistory",
                "input": {
                  "type": "boolean",
                  "value": {
                    "type": "literal",
                    "content": false,
                    "rawMeta": {
                      "type": 3
                    }
                  }
                }
              },
              {
                "name": "chatHistoryRound",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "3",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "systemPrompt",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "# 角色\n你是一位专业的故事创意转化师，你能够深入理解故事文案的情节、人物、场景等元素，用生动且具体的语言为绘画创作提供清晰的指引。\n\n## 技能\n### 技能1： 生成分镜字幕\n1. 当用户提供故事文案时，仔细分析文案中的关键情节、人物形象、场景特点等要素。\n2. 文案分镜， 生成字幕cap：\n    - 字幕文案分段： 第一句单独生成一个分镜，后续每个段落均由2句话构成，语句简洁明了，表达清晰流畅，同时具备节奏感。\n    - 分割文案后特别注意前后文的关联性与一致性，必须与用户提供的原文完全一致，不得进行任何修改、删减。字幕文案必须严格按照用户给的文案拆分，不能修改提供的内容更不能删除内容\n\n\n===回复示例===\n[{\n          \"cap\":\"字幕文案\"\n}]\n===示例结束===\n\n## 限制:\n- 只围绕用户提供的故事文案进行分镜绘画提示词生成和主题提炼，拒绝回答与该任务无关的话题。\n- 所输出的内容必须条理清晰，分镜绘画提示词要尽可能详细描述画面，主题必须为2个字。 \n- 视频文案及分镜描述必须保持一致。\n- 输出内容必须严格按照给定的 JSON 格式进行组织，不得偏离框架要求。\n- 只对用户提示的内容进行分镜，不能更改原文\n- 严格检查 输出的json格式正确性并进行修正，特别注意json格式不要少括号，逗号等",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              }
            ],
            "settingOnError": {
              "switch": false,
              "processType": 1,
              "timeoutMs": 180000,
              "retryTimes": 0
            }
          },
          "outputs": [
            {
              "type": "list",
              "name": "scenes",
              "schema": {
                "type": "object",
                "schema": [
                  {
                    "type": "string",
                    "name": "cap"
                  }
                ]
              },
              "required": false
            }
          ],
          "version": "3"
        },
        "_temp": {
          "bounds": {
            "x": -1280.508081036281,
            "y": -803.6560643797528,
            "width": 360,
            "height": 165.9
          },
          "externalData": {
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg",
            "description": "调用大语言模型,使用变量和提示词生成回复",
            "title": "大模型",
            "mainColor": "#5C62FF"
          }
        }
      },
      {
        "id": "186126",
        "type": "3",
        "meta": {
          "position": {
            "x": -602.5299100403133,
            "y": -817.1107653452904
          }
        },
        "data": {
          "nodeMeta": {
            "description": "调用大语言模型,使用变量和提示词生成回复",
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg",
            "subTitle": "大模型",
            "title": "大模型_图像提示词"
          },
          "inputs": {
            "inputParameters": [
              {
                "name": "scenes",
                "input": {
                  "type": "list",
                  "schema": {
                    "type": "object",
                    "schema": [
                      {
                        "type": "string",
                        "name": "cap"
                      }
                    ]
                  },
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "1165778",
                      "name": "scenes"
                    },
                    "rawMeta": {
                      "type": 103
                    }
                  }
                }
              }
            ],
            "llmParam": [
              {
                "name": "generationDiversity",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "default_val",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "temperature",
                "input": {
                  "type": "float",
                  "value": {
                    "type": "literal",
                    "content": "1",
                    "rawMeta": {
                      "type": 4
                    }
                  }
                }
              },
              {
                "name": "maxTokens",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "16384",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "responseFormat",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "2",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "modleName",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "DeepSeek-V3-0324",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "modelType",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "1742989917",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "prompt",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "故事分镜字幕信息：{{scenes}}",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "enableChatHistory",
                "input": {
                  "type": "boolean",
                  "value": {
                    "type": "literal",
                    "content": false,
                    "rawMeta": {
                      "type": 3
                    }
                  }
                }
              },
              {
                "name": "chatHistoryRound",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "3",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "systemPrompt",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "# 角色\n根据分镜字幕cap生成绘画提示词desc_prompt。\n\n## 技能\n### 技能 1: 生成绘画提示\n1. 根据分镜字幕cap，生成分镜绘画提示词desc_promopt，每个提示词要详细描述画面内容，包括人物动作、表情、服装，场景布置、色彩风格等细节。\n  - 风格要求：神话故事的卡通可爱风格，色彩鲜艳明亮，充满奇幻想象元素，画面活泼生动，线条简洁流畅，有梦幻般的场景构建，角色造型可爱有趣，整体氛围轻松愉悦 ，采用中景或全景展示画面。\n  - 第一个分镜画面中不要出现人物，只需要一个画面背景\n\n===回复示例===\n[\n  {\n    \"cap\": \"字幕文案\",\n    \"desc_promopt\": \"分镜图像提示词\"\n  }\n]\n===示例结束===\n\n## 限制:\n- 只对用户提供的json内容补充desc_prompt字段，不能更改原文\n- 严格检查输出的 json 格式正确性并进行修正，特别注意 json 格式不要少括号，逗号等",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              }
            ],
            "settingOnError": {
              "switch": false,
              "processType": 1,
              "timeoutMs": 180000,
              "retryTimes": 0
            }
          },
          "outputs": [
            {
              "type": "list",
              "name": "scenes",
              "schema": {
                "type": "object",
                "schema": [
                  {
                    "type": "string",
                    "name": "cap"
                  },
                  {
                    "type": "string",
                    "name": "desc_promopt"
                  }
                ]
              },
              "required": false
            }
          ],
          "version": "3"
        },
        "_temp": {
          "bounds": {
            "x": -782.5299100403133,
            "y": -817.1107653452904,
            "width": 360,
            "height": 165.9
          },
          "externalData": {
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg",
            "description": "调用大语言模型,使用变量和提示词生成回复",
            "title": "大模型",
            "mainColor": "#5C62FF"
          }
        }
      },
      {
        "id": "168118",
        "type": "4",
        "meta": {
          "position": {
            "x": 1471.0821499889976,
            "y": -1084.6854131863215
          }
        },
        "data": {
          "nodeMeta": {
            "description": "插件入口-创建草稿",
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg",
            "subtitle": "视频合成_剪映小助手:create_draft",
            "title": "创建草稿"
          },
          "inputs": {
            "apiParam": [
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7457837955684515874",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "create_draft",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7457837925833801768",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "视频合成_剪映小助手",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginVersion"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "tips"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "outDocLink"
              }
            ],
            "inputDefs": [
              {
                "description": "高",
                "input": {},
                "name": "height",
                "required": false,
                "type": "integer"
              },
              {
                "description": "关联创作者",
                "input": {},
                "name": "user_id",
                "required": false,
                "type": "integer"
              },
              {
                "description": "宽",
                "input": {},
                "name": "width",
                "required": false,
                "type": "integer"
              }
            ],
            "inputParameters": [
              {
                "name": "height",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": 1080,
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "user_id",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": 9943,
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "width",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": 1440,
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              }
            ],
            "settingOnError": {
              "processType": 1,
              "timeoutMs": 180000,
              "retryTimes": 0
            }
          },
          "outputs": [
            {
              "type": "string",
              "name": "draft_url",
              "required": false
            },
            {
              "type": "string",
              "name": "tip_url",
              "required": false
            }
          ]
        },
        "_temp": {
          "bounds": {
            "x": 1291.0821499889976,
            "y": -1084.6854131863215,
            "width": 360,
            "height": 113.9
          },
          "externalData": {
            "icon": "https://lf26-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/3778360647354254_1739242717113014582_ZXUfNgToeJ.png?lk3s=cd508e2b&x-expires=1750400007&x-signature=0VEsLuTlhbs6oXcVEraR1a0htlE%3D",
            "apiName": "create_draft",
            "pluginID": "7457837925833801768",
            "pluginProductStatus": 1,
            "pluginProductUnlistType": 0,
            "pluginType": 1,
            "spaceID": "7391771569926127635",
            "inputs": [
              {
                "description": "高",
                "input": {},
                "name": "height",
                "required": false,
                "type": "integer"
              },
              {
                "description": "关联创作者，用来获取推广分成",
                "input": {},
                "name": "user_id",
                "required": false,
                "type": "integer"
              },
              {
                "description": "宽",
                "input": {},
                "name": "width",
                "required": false,
                "type": "integer"
              }
            ],
            "outputs": [
              {
                "input": {},
                "name": "draft_url",
                "required": false,
                "type": "string"
              },
              {
                "input": {},
                "name": "tip_url",
                "required": false,
                "type": "string"
              }
            ],
            "updateTime": 1747807587,
            "latestVersionTs": "0",
            "latestVersionName": "",
            "versionName": "",
            "description": "插件入口-创建草稿",
            "title": "create_draft",
            "mainColor": "#CA61FF"
          }
        }
      },
      {
        "id": "125268",
        "type": "4",
        "meta": {
          "position": {
            "x": 1481.861223732945,
            "y": -887.7248799844455
          }
        },
        "data": {
          "nodeMeta": {
            "description": "批量添加音频",
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg",
            "subtitle": "视频合成_剪映小助手:add_audios",
            "title": "添加字幕音频"
          },
          "inputs": {
            "apiParam": [
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7457837925833834536",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "add_audios",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7457837925833801768",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "视频合成_剪映小助手",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginVersion"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "tips"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "outDocLink"
              }
            ],
            "inputDefs": [
              {
                "description": "[{\"audio_url\": \"http://example.com/audio1.mp3\",\"duration\":120,\"start\":0,\"end\":12000000,\"audio_effect\":\"教堂\"}]",
                "input": {},
                "name": "audio_infos",
                "required": true,
                "type": "string"
              },
              {
                "description": "草稿地址，使用create_draft输出的draft_url即可",
                "input": {},
                "name": "draft_url",
                "required": true,
                "type": "string"
              }
            ],
            "inputParameters": [
              {
                "name": "audio_infos",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "163547",
                      "name": "audioData"
                    },
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "draft_url",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "168118",
                      "name": "draft_url"
                    },
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              }
            ],
            "settingOnError": {
              "processType": 1,
              "timeoutMs": 180000,
              "retryTimes": 0
            }
          },
          "outputs": [
            {
              "type": "list",
              "name": "audio_ids",
              "schema": {
                "type": "string"
              },
              "required": false
            },
            {
              "type": "string",
              "name": "draft_url",
              "required": false
            },
            {
              "type": "string",
              "name": "track_id",
              "required": false
            }
          ]
        },
        "_temp": {
          "bounds": {
            "x": 1301.861223732945,
            "y": -887.7248799844455,
            "width": 360,
            "height": 113.9
          },
          "externalData": {
            "icon": "https://lf26-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/3778360647354254_1739242717113014582_ZXUfNgToeJ.png?lk3s=cd508e2b&x-expires=1750400007&x-signature=0VEsLuTlhbs6oXcVEraR1a0htlE%3D",
            "apiName": "add_audios",
            "pluginID": "7457837925833801768",
            "pluginProductStatus": 1,
            "pluginProductUnlistType": 0,
            "pluginType": 1,
            "spaceID": "7391771569926127635",
            "inputs": [
              {
                "description": "[{\"audio_url\": \"http://example.com/audio1.mp3\",\"duration\":120,\"start\":0,\"end\":12000000,\"audio_effect\":\"教堂\"}]",
                "input": {},
                "name": "audio_infos",
                "required": true,
                "type": "string"
              },
              {
                "description": "草稿地址，使用create_draft输出的draft_url即可",
                "input": {},
                "name": "draft_url",
                "required": true,
                "type": "string"
              }
            ],
            "outputs": [
              {
                "input": {},
                "name": "audio_ids",
                "required": false,
                "schema": {
                  "assistType": 0,
                  "type": "string"
                },
                "type": "list"
              },
              {
                "input": {},
                "name": "draft_url",
                "required": false,
                "type": "string"
              },
              {
                "input": {},
                "name": "track_id",
                "required": false,
                "type": "string"
              }
            ],
            "updateTime": 1747807587,
            "latestVersionTs": "0",
            "latestVersionName": "",
            "versionName": "",
            "description": "批量添加音频",
            "title": "add_audios",
            "mainColor": "#CA61FF"
          }
        }
      },
      {
        "id": "180947",
        "type": "4",
        "meta": {
          "position": {
            "x": 2002.937150304733,
            "y": -852.6087675048962
          }
        },
        "data": {
          "nodeMeta": {
            "description": "根据时间线制作字幕数据",
            "icon": "https://p9-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/6a57866c6eca488eb6a78e3cdb16e668~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1744465010&x-signature=4iDDzKiufQ2Axl4wsESVJu8bc4A%3D",
            "subtitle": "剪映小助手数据生成器:caption_infos",
            "title": "caption_infos字幕信息"
          },
          "inputs": {
            "apiParam": [
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7475829177439191075",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "caption_infos",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7475829177439109155",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "剪映小助手数据生成器",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginVersion"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "tips"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "outDocLink"
              }
            ],
            "inputDefs": [
              {
                "description": "文本列表",
                "input": {},
                "name": "texts",
                "required": true,
                "schema": {
                  "assistType": 0,
                  "type": "string"
                },
                "type": "list"
              },
              {
                "description": "对应剪映的入场动画名字，多个动画请用英文|分割，比如：飞入|放大",
                "input": {},
                "name": "in_animation",
                "required": false,
                "type": "string"
              },
              {
                "description": "关键词颜色",
                "input": {},
                "name": "keyword_color",
                "required": false,
                "type": "string"
              },
              {
                "description": "循环动画时长",
                "input": {},
                "name": "loop_animation_duration",
                "required": false,
                "type": "integer"
              },
              {
                "description": "出场动画时长",
                "input": {},
                "name": "out_animation_duration",
                "required": false,
                "type": "integer"
              },
              {
                "description": "对应剪映的循环动画名字，多个动画请用英文|分割，比如：扫光|晃动",
                "input": {},
                "name": "loop_animation",
                "required": false,
                "type": "string"
              },
              {
                "description": "对应剪映的出场动画名字，多个动画请用英文|分割，比如：消散|闭幕",
                "input": {},
                "name": "out_animation",
                "required": false,
                "type": "string"
              },
              {
                "description": "时间节点，只接收结构：[{\"start\":0,\"end\":4612}]，一般从audio_timeline节点的输出获取",
                "input": {},
                "name": "timelines",
                "required": true,
                "schema": {
                  "schema": [
                    {
                      "description": "结束时间",
                      "input": {},
                      "name": "end",
                      "required": true,
                      "type": "integer"
                    },
                    {
                      "description": "开始时间",
                      "input": {},
                      "name": "start",
                      "required": true,
                      "type": "integer"
                    }
                  ],
                  "type": "object"
                },
                "type": "list"
              },
              {
                "description": "文字大小",
                "input": {},
                "name": "font_size",
                "required": false,
                "type": "integer"
              },
              {
                "description": "入场动画时长",
                "input": {},
                "name": "in_animation_duration",
                "required": false,
                "type": "integer"
              },
              {
                "description": "关键词字大小",
                "input": {},
                "name": "keyword_font_size",
                "required": false,
                "type": "integer"
              },
              {
                "description": "文本里面的重点词列表",
                "input": {},
                "name": "keywords",
                "required": false,
                "schema": {
                  "assistType": 0,
                  "type": "string"
                },
                "type": "list"
              }
            ],
            "inputParameters": [
              {
                "name": "texts",
                "input": {
                  "type": "list",
                  "schema": {
                    "type": "string"
                  },
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "163547",
                      "name": "text_captions"
                    },
                    "rawMeta": {
                      "type": 99
                    }
                  }
                }
              },
              {
                "name": "timelines",
                "input": {
                  "type": "list",
                  "schema": {
                    "type": "object",
                    "schema": []
                  },
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "163547",
                      "name": "text_timielines"
                    },
                    "rawMeta": {
                      "type": 103
                    }
                  }
                }
              }
            ],
            "settingOnError": {
              "processType": 1,
              "timeoutMs": 180000,
              "retryTimes": 0
            }
          },
          "outputs": [
            {
              "type": "string",
              "name": "infos",
              "required": false
            }
          ]
        },
        "_temp": {
          "bounds": {
            "x": 1822.937150304733,
            "y": -852.6087675048962,
            "width": 360,
            "height": 113.9
          },
          "externalData": {
            "icon": "https://lf26-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/3778360647354254_1740601667083827169_qvIu8uOxyr.jpeg?lk3s=cd508e2b&x-expires=1750400007&x-signature=6V1auS0EKItX2GS3nIcA39QHDf8%3D",
            "apiName": "caption_infos",
            "pluginID": "7475829177439109155",
            "pluginProductStatus": 1,
            "pluginProductUnlistType": 0,
            "pluginType": 1,
            "spaceID": "7391771569926127635",
            "inputs": [
              {
                "description": "时间节点，只接收结构：[{\"start\":0,\"end\":4612}]，一般从audio_timeline节点的输出获取",
                "input": {},
                "name": "timelines",
                "required": true,
                "schema": {
                  "schema": [
                    {
                      "description": "结束时间",
                      "input": {},
                      "name": "end",
                      "required": true,
                      "type": "integer"
                    },
                    {
                      "description": "开始时间",
                      "input": {},
                      "name": "start",
                      "required": true,
                      "type": "integer"
                    }
                  ],
                  "type": "object"
                },
                "type": "list"
              },
              {
                "description": "文字大小",
                "input": {},
                "name": "font_size",
                "required": false,
                "type": "integer"
              },
              {
                "description": "关键词颜色",
                "input": {},
                "name": "keyword_color",
                "required": false,
                "type": "string"
              },
              {
                "description": "关键词字大小",
                "input": {},
                "name": "keyword_font_size",
                "required": false,
                "type": "integer"
              },
              {
                "description": "循环动画时长",
                "input": {},
                "name": "loop_animation_duration",
                "required": false,
                "type": "integer"
              },
              {
                "description": "对应剪映的出场动画名字，多个动画请用英文|分割，比如：消散|闭幕",
                "input": {},
                "name": "out_animation",
                "required": false,
                "type": "string"
              },
              {
                "description": "出场动画时长",
                "input": {},
                "name": "out_animation_duration",
                "required": false,
                "type": "integer"
              },
              {
                "description": "文本列表",
                "input": {},
                "name": "texts",
                "required": true,
                "schema": {
                  "assistType": 0,
                  "type": "string"
                },
                "type": "list"
              },
              {
                "description": "对应剪映的入场动画名字，多个动画请用英文|分割，比如：飞入|放大",
                "input": {},
                "name": "in_animation",
                "required": false,
                "type": "string"
              },
              {
                "description": "入场动画时长",
                "input": {},
                "name": "in_animation_duration",
                "required": false,
                "type": "integer"
              },
              {
                "description": "文本里面的重点词列表",
                "input": {},
                "name": "keywords",
                "required": false,
                "schema": {
                  "assistType": 0,
                  "type": "string"
                },
                "type": "list"
              },
              {
                "description": "对应剪映的循环动画名字，多个动画请用英文|分割，比如：扫光|晃动",
                "input": {},
                "name": "loop_animation",
                "required": false,
                "type": "string"
              }
            ],
            "outputs": [
              {
                "input": {},
                "name": "infos",
                "required": false,
                "type": "string"
              }
            ],
            "updateTime": 1747805671,
            "latestVersionTs": "0",
            "latestVersionName": "",
            "versionName": "",
            "description": "根据时间线制作字幕数据",
            "title": "caption_infos",
            "mainColor": "#CA61FF"
          }
        }
      },
      {
        "id": "109941",
        "type": "4",
        "meta": {
          "position": {
            "x": 1463.7593617792725,
            "y": -699.6028488440031
          }
        },
        "data": {
          "nodeMeta": {
            "description": "批量添加图片",
            "icon": "https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/324427c7589a426286a9774fa69f64a2~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1744472328&x-signature=9GXsgm2HH29uW0ihgoymUTYxCmc%3D",
            "subtitle": "视频合成_剪映小助手:add_images",
            "title": "添加分镜图片"
          },
          "inputs": {
            "apiParam": [
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7457837925833883688",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "add_images",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7457837925833801768",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "视频合成_剪映小助手",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginVersion"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "tips"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "outDocLink"
              }
            ],
            "inputDefs": [
              {
                "description": "草稿地址，使用create_draft输出的draft_url即可",
                "input": {},
                "name": "draft_url",
                "required": true,
                "type": "string"
              },
              {
                "description": "查看说明：https://krxc4izye0.feishu.cn/wiki/Pgm9wXA4EipKhYkeEQJcLBlJnWb?from=from_copylink",
                "input": {},
                "name": "image_infos",
                "required": true,
                "type": "string"
              },
              {
                "description": "x缩放",
                "input": {},
                "name": "scale_x",
                "required": false,
                "type": "float"
              },
              {
                "description": "y缩放",
                "input": {},
                "name": "scale_y",
                "required": false,
                "type": "float"
              },
              {
                "description": "移动transform_x",
                "input": {},
                "name": "transform_x",
                "required": false,
                "type": "float"
              },
              {
                "description": "移动transform_y",
                "input": {},
                "name": "transform_y",
                "required": false,
                "type": "float"
              }
            ],
            "inputParameters": [
              {
                "name": "draft_url",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "168118",
                      "name": "draft_url"
                    },
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "image_infos",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "163547",
                      "name": "imageData"
                    },
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "scale_x",
                "input": {
                  "type": "float",
                  "value": {
                    "type": "literal",
                    "content": 1,
                    "rawMeta": {
                      "type": 4
                    }
                  }
                }
              },
              {
                "name": "scale_y",
                "input": {
                  "type": "float",
                  "value": {
                    "type": "literal",
                    "content": 1,
                    "rawMeta": {
                      "type": 4
                    }
                  }
                }
              }
            ],
            "settingOnError": {
              "processType": 1,
              "timeoutMs": 180000,
              "retryTimes": 0
            }
          },
          "outputs": [
            {
              "type": "list",
              "name": "segment_infos",
              "schema": {
                "type": "object",
                "schema": [
                  {
                    "type": "integer",
                    "name": "end",
                    "required": false
                  },
                  {
                    "type": "string",
                    "name": "id",
                    "required": false
                  },
                  {
                    "type": "integer",
                    "name": "start",
                    "required": false
                  }
                ]
              },
              "required": false
            },
            {
              "type": "string",
              "name": "track_id",
              "required": false
            },
            {
              "type": "string",
              "name": "draft_url",
              "required": false
            },
            {
              "type": "list",
              "name": "image_ids",
              "schema": {
                "type": "string"
              },
              "required": false
            },
            {
              "type": "list",
              "name": "segment_ids",
              "schema": {
                "type": "string"
              },
              "required": false
            }
          ]
        },
        "_temp": {
          "bounds": {
            "x": 1283.7593617792725,
            "y": -699.6028488440031,
            "width": 360,
            "height": 113.9
          },
          "externalData": {
            "icon": "https://lf3-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/3778360647354254_1739242717113014582_ZXUfNgToeJ.png?lk3s=cd508e2b&x-expires=1750400007&x-signature=4Ylg%2Fuepg8DVkmX9L%2FoZx%2B77z%2BM%3D",
            "apiName": "add_images",
            "pluginID": "7457837925833801768",
            "pluginProductStatus": 1,
            "pluginProductUnlistType": 0,
            "pluginType": 1,
            "spaceID": "7391771569926127635",
            "inputs": [
              {
                "description": "y缩放",
                "input": {},
                "name": "scale_y",
                "required": false,
                "type": "float"
              },
              {
                "description": "移动transform_x",
                "input": {},
                "name": "transform_x",
                "required": false,
                "type": "float"
              },
              {
                "description": "移动transform_y",
                "input": {},
                "name": "transform_y",
                "required": false,
                "type": "float"
              },
              {
                "description": "草稿地址，使用create_draft输出的draft_url即可",
                "input": {},
                "name": "draft_url",
                "required": true,
                "type": "string"
              },
              {
                "description": "查看说明：https://krxc4izye0.feishu.cn/wiki/Pgm9wXA4EipKhYkeEQJcLBlJnWb?from=from_copylink",
                "input": {},
                "name": "image_infos",
                "required": true,
                "type": "string"
              },
              {
                "description": "x缩放",
                "input": {},
                "name": "scale_x",
                "required": false,
                "type": "float"
              }
            ],
            "outputs": [
              {
                "input": {},
                "name": "draft_url",
                "required": false,
                "type": "string"
              },
              {
                "input": {},
                "name": "image_ids",
                "required": false,
                "schema": {
                  "assistType": 0,
                  "type": "string"
                },
                "type": "list"
              },
              {
                "input": {},
                "name": "segment_ids",
                "required": false,
                "schema": {
                  "assistType": 0,
                  "type": "string"
                },
                "type": "list"
              },
              {
                "input": {},
                "name": "segment_infos",
                "required": false,
                "schema": {
                  "schema": [
                    {
                      "input": {},
                      "name": "end",
                      "required": false,
                      "type": "integer"
                    },
                    {
                      "input": {},
                      "name": "id",
                      "required": false,
                      "type": "string"
                    },
                    {
                      "input": {},
                      "name": "start",
                      "required": false,
                      "type": "integer"
                    }
                  ],
                  "type": "object"
                },
                "type": "list"
              },
              {
                "input": {},
                "name": "track_id",
                "required": false,
                "type": "string"
              }
            ],
            "updateTime": 1747807587,
            "latestVersionTs": "0",
            "latestVersionName": "",
            "versionName": "",
            "description": "批量添加图片",
            "title": "add_images",
            "mainColor": "#CA61FF"
          }
        }
      },
      {
        "id": "158201",
        "type": "4",
        "meta": {
          "position": {
            "x": 1994.4300250417944,
            "y": -511.48081770356066
          }
        },
        "data": {
          "nodeMeta": {
            "description": "批量添加字幕",
            "icon": "https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/324427c7589a426286a9774fa69f64a2~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1744464780&x-signature=qS0o%2FY1NDMFTjtJAQ%2FHNSTjQEzw%3D",
            "subtitle": "视频合成_剪映小助手:add_captions",
            "title": "add_captions添加字幕"
          },
          "inputs": {
            "apiParam": [
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7457837925833850920",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "add_captions",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7457837925833801768",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "视频合成_剪映小助手",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginVersion"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "tips"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "outDocLink"
              }
            ],
            "inputDefs": [
              {
                "description": "scale_x缩放",
                "input": {},
                "name": "scale_x",
                "required": false,
                "type": "float"
              },
              {
                "description": "scale_y缩放",
                "input": {},
                "name": "scale_y",
                "required": false,
                "type": "float"
              },
              {
                "description": "文字颜色：#ff1837",
                "input": {},
                "name": "text_color",
                "required": false,
                "type": "string"
              },
              {
                "description": "transform_x位置",
                "input": {},
                "name": "transform_x",
                "required": false,
                "type": "float"
              },
              {
                "description": "transform_y位置",
                "input": {},
                "name": "transform_y",
                "required": false,
                "type": "float"
              },
              {
                "description": "字幕的对齐方式，0左对齐，1 居中对齐，2右对齐",
                "input": {},
                "name": "alignment",
                "required": false,
                "type": "integer"
              },
              {
                "description": "字间距，默认0",
                "input": {},
                "name": "letter_spacing",
                "required": false,
                "type": "float"
              },
              {
                "description": "草稿地址，使用create_draft输出的draft_url即可",
                "input": {},
                "name": "draft_url",
                "required": true,
                "type": "string"
              },
              {
                "description": "字体列表：https://krxc4izye0.feishu.cn/wiki/SmnrwabXriG7JckEzyGcChk4nDd",
                "input": {},
                "name": "font",
                "required": false,
                "type": "string"
              },
              {
                "description": "默认：15",
                "input": {},
                "name": "font_size",
                "required": false,
                "type": "integer"
              },
              {
                "description": "行间距，默认0",
                "input": {},
                "name": "line_spacing",
                "required": false,
                "type": "float"
              },
              {
                "description": "0 默认。1富文本样式",
                "input": {},
                "name": "style_text",
                "required": false,
                "type": "integer"
              },
              {
                "description": "边框颜色，eg：#fe8a80",
                "input": {},
                "name": "border_color",
                "required": false,
                "type": "string"
              },
              {
                "description": "查看说明：https://krxc4izye0.feishu.cn/wiki/HhQrw3BFhi1XGOkkJCBcfkqGnwf?from=from_copylink",
                "input": {},
                "name": "captions",
                "required": true,
                "type": "string"
              }
            ],
            "inputParameters": [
              {
                "name": "captions",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "180947",
                      "name": "infos"
                    },
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "draft_url",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "168118",
                      "name": "draft_url"
                    },
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "alignment",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": 1,
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "border_color",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "#000000",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "font_size",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": 7,
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "text_color",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "#FFFFFF",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "transform_x",
                "input": {
                  "type": "float",
                  "value": {
                    "type": "literal",
                    "content": 0,
                    "rawMeta": {
                      "type": 4
                    }
                  }
                }
              },
              {
                "name": "transform_y",
                "input": {
                  "type": "float",
                  "value": {
                    "type": "literal",
                    "content": -810,
                    "rawMeta": {
                      "type": 4
                    }
                  }
                }
              }
            ],
            "settingOnError": {
              "processType": 1,
              "timeoutMs": 180000,
              "retryTimes": 0
            }
          },
          "outputs": [
            {
              "type": "string",
              "name": "draft_url",
              "required": false
            },
            {
              "type": "list",
              "name": "segment_ids",
              "schema": {
                "type": "string"
              },
              "required": false
            },
            {
              "type": "list",
              "name": "segment_infos",
              "schema": {
                "type": "object",
                "schema": [
                  {
                    "type": "integer",
                    "name": "end",
                    "required": false
                  },
                  {
                    "type": "string",
                    "name": "id",
                    "required": false
                  },
                  {
                    "type": "integer",
                    "name": "start",
                    "required": false
                  }
                ]
              },
              "required": false
            },
            {
              "type": "list",
              "name": "text_ids",
              "schema": {
                "type": "string"
              },
              "required": false
            },
            {
              "type": "string",
              "name": "track_id",
              "required": false
            }
          ]
        },
        "_temp": {
          "bounds": {
            "x": 1814.4300250417944,
            "y": -511.48081770356066,
            "width": 360,
            "height": 113.9
          },
          "externalData": {
            "icon": "https://lf26-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/3778360647354254_1739242717113014582_ZXUfNgToeJ.png?lk3s=cd508e2b&x-expires=1750400007&x-signature=0VEsLuTlhbs6oXcVEraR1a0htlE%3D",
            "apiName": "add_captions",
            "pluginID": "7457837925833801768",
            "pluginProductStatus": 1,
            "pluginProductUnlistType": 0,
            "pluginType": 1,
            "spaceID": "7391771569926127635",
            "inputs": [
              {
                "description": "字间距，默认0",
                "input": {},
                "name": "letter_spacing",
                "required": false,
                "type": "float"
              },
              {
                "description": "行间距，默认0",
                "input": {},
                "name": "line_spacing",
                "required": false,
                "type": "float"
              },
              {
                "description": "0 默认。1富文本样式",
                "input": {},
                "name": "style_text",
                "required": false,
                "type": "integer"
              },
              {
                "description": "transform_y位置",
                "input": {},
                "name": "transform_y",
                "required": false,
                "type": "float"
              },
              {
                "description": "字幕的对齐方式，0左对齐，1 居中对齐，2右对齐",
                "input": {},
                "name": "alignment",
                "required": false,
                "type": "integer"
              },
              {
                "description": "边框颜色，eg：#fe8a80",
                "input": {},
                "name": "border_color",
                "required": false,
                "type": "string"
              },
              {
                "description": "草稿地址，使用create_draft输出的draft_url即可",
                "input": {},
                "name": "draft_url",
                "required": true,
                "type": "string"
              },
              {
                "description": "scale_x缩放",
                "input": {},
                "name": "scale_x",
                "required": false,
                "type": "float"
              },
              {
                "description": "scale_y缩放",
                "input": {},
                "name": "scale_y",
                "required": false,
                "type": "float"
              },
              {
                "description": "文字颜色：#ff1837",
                "input": {},
                "name": "text_color",
                "required": false,
                "type": "string"
              },
              {
                "description": "transform_x位置",
                "input": {},
                "name": "transform_x",
                "required": false,
                "type": "float"
              },
              {
                "description": "查看说明：https://krxc4izye0.feishu.cn/wiki/HhQrw3BFhi1XGOkkJCBcfkqGnwf?from=from_copylink",
                "input": {},
                "name": "captions",
                "required": true,
                "type": "string"
              },
              {
                "description": "字体列表：https://krxc4izye0.feishu.cn/wiki/SmnrwabXriG7JckEzyGcChk4nDd",
                "input": {},
                "name": "font",
                "required": false,
                "type": "string"
              },
              {
                "description": "默认：15",
                "input": {},
                "name": "font_size",
                "required": false,
                "type": "integer"
              }
            ],
            "outputs": [
              {
                "input": {},
                "name": "segment_infos",
                "required": false,
                "schema": {
                  "schema": [
                    {
                      "input": {},
                      "name": "end",
                      "required": false,
                      "type": "integer"
                    },
                    {
                      "input": {},
                      "name": "id",
                      "required": false,
                      "type": "string"
                    },
                    {
                      "input": {},
                      "name": "start",
                      "required": false,
                      "type": "integer"
                    }
                  ],
                  "type": "object"
                },
                "type": "list"
              },
              {
                "input": {},
                "name": "text_ids",
                "required": false,
                "schema": {
                  "assistType": 0,
                  "type": "string"
                },
                "type": "list"
              },
              {
                "input": {},
                "name": "track_id",
                "required": false,
                "type": "string"
              },
              {
                "input": {},
                "name": "draft_url",
                "required": false,
                "type": "string"
              },
              {
                "input": {},
                "name": "segment_ids",
                "required": false,
                "schema": {
                  "assistType": 0,
                  "type": "string"
                },
                "type": "list"
              }
            ],
            "updateTime": 1747807587,
            "latestVersionTs": "0",
            "latestVersionName": "",
            "versionName": "",
            "description": "批量添加字幕",
            "title": "add_captions",
            "mainColor": "#CA61FF"
          }
        }
      },
      {
        "id": "104782",
        "type": "4",
        "meta": {
          "position": {
            "x": 2581.265394789499,
            "y": -1048.2556798909563
          }
        },
        "data": {
          "nodeMeta": {
            "description": "保存草稿\n",
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg",
            "subtitle": "视频合成_剪映小助手:save_draft",
            "title": "保存草稿"
          },
          "inputs": {
            "apiParam": [
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7457837955684548642",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "save_draft",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7457837925833801768",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "视频合成_剪映小助手",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginVersion"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "tips"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "outDocLink"
              }
            ],
            "inputDefs": [
              {
                "description": "草稿地址，使用create_draft输出的draft_url即可",
                "input": {},
                "name": "draft_url",
                "required": true,
                "type": "string"
              },
              {
                "description": "用户ID。如果填写了这个ID，新用户产生的月费就会按照比例归属到这个账号下。",
                "input": {},
                "name": "user_id",
                "required": false,
                "type": "integer"
              }
            ],
            "inputParameters": [
              {
                "name": "draft_url",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "168118",
                      "name": "draft_url"
                    },
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "user_id",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": 9943,
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              }
            ],
            "settingOnError": {
              "processType": 1,
              "timeoutMs": 180000,
              "retryTimes": 0
            }
          },
          "outputs": [
            {
              "type": "string",
              "name": "draft_url",
              "required": false
            },
            {
              "type": "string",
              "name": "message",
              "required": false
            }
          ]
        },
        "_temp": {
          "bounds": {
            "x": 2401.265394789499,
            "y": -1048.2556798909563,
            "width": 360,
            "height": 113.9
          },
          "externalData": {
            "icon": "https://lf26-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/3778360647354254_1739242717113014582_ZXUfNgToeJ.png?lk3s=cd508e2b&x-expires=1750400007&x-signature=0VEsLuTlhbs6oXcVEraR1a0htlE%3D",
            "apiName": "save_draft",
            "pluginID": "7457837925833801768",
            "pluginProductStatus": 1,
            "pluginProductUnlistType": 0,
            "pluginType": 1,
            "spaceID": "7391771569926127635",
            "inputs": [
              {
                "description": "草稿地址，使用create_draft输出的draft_url即可",
                "input": {},
                "name": "draft_url",
                "required": true,
                "type": "string"
              },
              {
                "description": "用户ID。如果填写了这个ID，新用户产生的月费就会按照比例归属到这个账号下。",
                "input": {},
                "name": "user_id",
                "required": false,
                "type": "integer"
              }
            ],
            "outputs": [
              {
                "input": {},
                "name": "draft_url",
                "required": false,
                "type": "string"
              },
              {
                "input": {},
                "name": "message",
                "required": false,
                "type": "string"
              }
            ],
            "updateTime": 1747807587,
            "latestVersionTs": "0",
            "latestVersionName": "",
            "versionName": "",
            "description": "保存草稿\n",
            "title": "save_draft",
            "mainColor": "#CA61FF"
          }
        }
      },
      {
        "id": "1204256",
        "type": "4",
        "meta": {
          "position": {
            "x": 2002.937150304733,
            "y": -682.0447926042286
          }
        },
        "data": {
          "nodeMeta": {
            "description": "根据时间线制作字幕数据",
            "icon": "https://p9-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/6a57866c6eca488eb6a78e3cdb16e668~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1744465010&x-signature=4iDDzKiufQ2Axl4wsESVJu8bc4A%3D",
            "subtitle": "剪映小助手数据生成器:caption_infos",
            "title": "caption_infos_故事标题"
          },
          "inputs": {
            "apiParam": [
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7475829177439191075",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "caption_infos",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7475829177439109155",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "剪映小助手数据生成器",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginVersion"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "tips"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "outDocLink"
              }
            ],
            "inputDefs": [
              {
                "description": "文本列表",
                "input": {},
                "name": "texts",
                "required": true,
                "schema": {
                  "assistType": 0,
                  "type": "string"
                },
                "type": "list"
              },
              {
                "description": "对应剪映的入场动画名字，多个动画请用英文|分割，比如：飞入|放大",
                "input": {},
                "name": "in_animation",
                "required": false,
                "type": "string"
              },
              {
                "description": "关键词颜色",
                "input": {},
                "name": "keyword_color",
                "required": false,
                "type": "string"
              },
              {
                "description": "循环动画时长",
                "input": {},
                "name": "loop_animation_duration",
                "required": false,
                "type": "integer"
              },
              {
                "description": "出场动画时长",
                "input": {},
                "name": "out_animation_duration",
                "required": false,
                "type": "integer"
              },
              {
                "description": "对应剪映的循环动画名字，多个动画请用英文|分割，比如：扫光|晃动",
                "input": {},
                "name": "loop_animation",
                "required": false,
                "type": "string"
              },
              {
                "description": "对应剪映的出场动画名字，多个动画请用英文|分割，比如：消散|闭幕",
                "input": {},
                "name": "out_animation",
                "required": false,
                "type": "string"
              },
              {
                "description": "时间节点，只接收结构：[{\"start\":0,\"end\":4612}]，一般从audio_timeline节点的输出获取",
                "input": {},
                "name": "timelines",
                "required": true,
                "schema": {
                  "schema": [
                    {
                      "description": "结束时间",
                      "input": {},
                      "name": "end",
                      "required": true,
                      "type": "integer"
                    },
                    {
                      "description": "开始时间",
                      "input": {},
                      "name": "start",
                      "required": true,
                      "type": "integer"
                    }
                  ],
                  "type": "object"
                },
                "type": "list"
              },
              {
                "description": "文字大小",
                "input": {},
                "name": "font_size",
                "required": false,
                "type": "integer"
              },
              {
                "description": "入场动画时长",
                "input": {},
                "name": "in_animation_duration",
                "required": false,
                "type": "integer"
              },
              {
                "description": "关键词字大小",
                "input": {},
                "name": "keyword_font_size",
                "required": false,
                "type": "integer"
              },
              {
                "description": "文本里面的重点词列表",
                "input": {},
                "name": "keywords",
                "required": false,
                "schema": {
                  "assistType": 0,
                  "type": "string"
                },
                "type": "list"
              }
            ],
            "inputParameters": [
              {
                "name": "texts",
                "input": {
                  "type": "list",
                  "schema": {
                    "type": "string"
                  },
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "163547",
                      "name": "title_list"
                    },
                    "rawMeta": {
                      "type": 99
                    }
                  }
                }
              },
              {
                "name": "timelines",
                "input": {
                  "type": "list",
                  "schema": {
                    "type": "object",
                    "schema": []
                  },
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "163547",
                      "name": "title_timelimes"
                    },
                    "rawMeta": {
                      "type": 103
                    }
                  }
                }
              },
              {
                "name": "in_animation",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "弹入",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              }
            ],
            "settingOnError": {
              "processType": 1,
              "timeoutMs": 180000,
              "retryTimes": 0
            }
          },
          "outputs": [
            {
              "type": "string",
              "name": "infos",
              "required": false
            }
          ]
        },
        "_temp": {
          "bounds": {
            "x": 1822.937150304733,
            "y": -682.0447926042286,
            "width": 360,
            "height": 113.9
          },
          "externalData": {
            "icon": "https://lf26-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/3778360647354254_1740601667083827169_qvIu8uOxyr.jpeg?lk3s=cd508e2b&x-expires=1750400007&x-signature=6V1auS0EKItX2GS3nIcA39QHDf8%3D",
            "apiName": "caption_infos",
            "pluginID": "7475829177439109155",
            "pluginProductStatus": 1,
            "pluginProductUnlistType": 0,
            "pluginType": 1,
            "spaceID": "7391771569926127635",
            "inputs": [
              {
                "description": "时间节点，只接收结构：[{\"start\":0,\"end\":4612}]，一般从audio_timeline节点的输出获取",
                "input": {},
                "name": "timelines",
                "required": true,
                "schema": {
                  "schema": [
                    {
                      "description": "结束时间",
                      "input": {},
                      "name": "end",
                      "required": true,
                      "type": "integer"
                    },
                    {
                      "description": "开始时间",
                      "input": {},
                      "name": "start",
                      "required": true,
                      "type": "integer"
                    }
                  ],
                  "type": "object"
                },
                "type": "list"
              },
              {
                "description": "文字大小",
                "input": {},
                "name": "font_size",
                "required": false,
                "type": "integer"
              },
              {
                "description": "关键词颜色",
                "input": {},
                "name": "keyword_color",
                "required": false,
                "type": "string"
              },
              {
                "description": "关键词字大小",
                "input": {},
                "name": "keyword_font_size",
                "required": false,
                "type": "integer"
              },
              {
                "description": "循环动画时长",
                "input": {},
                "name": "loop_animation_duration",
                "required": false,
                "type": "integer"
              },
              {
                "description": "对应剪映的出场动画名字，多个动画请用英文|分割，比如：消散|闭幕",
                "input": {},
                "name": "out_animation",
                "required": false,
                "type": "string"
              },
              {
                "description": "出场动画时长",
                "input": {},
                "name": "out_animation_duration",
                "required": false,
                "type": "integer"
              },
              {
                "description": "文本列表",
                "input": {},
                "name": "texts",
                "required": true,
                "schema": {
                  "assistType": 0,
                  "type": "string"
                },
                "type": "list"
              },
              {
                "description": "对应剪映的入场动画名字，多个动画请用英文|分割，比如：飞入|放大",
                "input": {},
                "name": "in_animation",
                "required": false,
                "type": "string"
              },
              {
                "description": "入场动画时长",
                "input": {},
                "name": "in_animation_duration",
                "required": false,
                "type": "integer"
              },
              {
                "description": "文本里面的重点词列表",
                "input": {},
                "name": "keywords",
                "required": false,
                "schema": {
                  "assistType": 0,
                  "type": "string"
                },
                "type": "list"
              },
              {
                "description": "对应剪映的循环动画名字，多个动画请用英文|分割，比如：扫光|晃动",
                "input": {},
                "name": "loop_animation",
                "required": false,
                "type": "string"
              }
            ],
            "outputs": [
              {
                "input": {},
                "name": "infos",
                "required": false,
                "type": "string"
              }
            ],
            "updateTime": 1747805671,
            "latestVersionTs": "0",
            "latestVersionName": "",
            "versionName": "",
            "description": "根据时间线制作字幕数据",
            "title": "caption_infos",
            "mainColor": "#CA61FF"
          }
        }
      },
      {
        "id": "1182713",
        "type": "4",
        "meta": {
          "position": {
            "x": 1994.4300250417944,
            "y": -320.8504928145794
          }
        },
        "data": {
          "nodeMeta": {
            "description": "批量添加字幕",
            "icon": "https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/324427c7589a426286a9774fa69f64a2~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1744464780&x-signature=qS0o%2FY1NDMFTjtJAQ%2FHNSTjQEzw%3D",
            "subtitle": "视频合成_剪映小助手:add_captions",
            "title": "add_captions_添加故事标题"
          },
          "inputs": {
            "apiParam": [
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7457837925833850920",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "add_captions",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7457837925833801768",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "视频合成_剪映小助手",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginVersion"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "tips"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "outDocLink"
              }
            ],
            "inputDefs": [
              {
                "description": "scale_x缩放",
                "input": {},
                "name": "scale_x",
                "required": false,
                "type": "float"
              },
              {
                "description": "scale_y缩放",
                "input": {},
                "name": "scale_y",
                "required": false,
                "type": "float"
              },
              {
                "description": "文字颜色：#ff1837",
                "input": {},
                "name": "text_color",
                "required": false,
                "type": "string"
              },
              {
                "description": "transform_x位置",
                "input": {},
                "name": "transform_x",
                "required": false,
                "type": "float"
              },
              {
                "description": "transform_y位置",
                "input": {},
                "name": "transform_y",
                "required": false,
                "type": "float"
              },
              {
                "description": "字幕的对齐方式，0左对齐，1 居中对齐，2右对齐",
                "input": {},
                "name": "alignment",
                "required": false,
                "type": "integer"
              },
              {
                "description": "字间距，默认0",
                "input": {},
                "name": "letter_spacing",
                "required": false,
                "type": "float"
              },
              {
                "description": "草稿地址，使用create_draft输出的draft_url即可",
                "input": {},
                "name": "draft_url",
                "required": true,
                "type": "string"
              },
              {
                "description": "字体列表：https://krxc4izye0.feishu.cn/wiki/SmnrwabXriG7JckEzyGcChk4nDd",
                "input": {},
                "name": "font",
                "required": false,
                "type": "string"
              },
              {
                "description": "默认：15",
                "input": {},
                "name": "font_size",
                "required": false,
                "type": "integer"
              },
              {
                "description": "行间距，默认0",
                "input": {},
                "name": "line_spacing",
                "required": false,
                "type": "float"
              },
              {
                "description": "0 默认。1富文本样式",
                "input": {},
                "name": "style_text",
                "required": false,
                "type": "integer"
              },
              {
                "description": "边框颜色，eg：#fe8a80",
                "input": {},
                "name": "border_color",
                "required": false,
                "type": "string"
              },
              {
                "description": "查看说明：https://krxc4izye0.feishu.cn/wiki/HhQrw3BFhi1XGOkkJCBcfkqGnwf?from=from_copylink",
                "input": {},
                "name": "captions",
                "required": true,
                "type": "string"
              }
            ],
            "inputParameters": [
              {
                "name": "captions",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "1204256",
                      "name": "infos"
                    },
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "draft_url",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "168118",
                      "name": "draft_url"
                    },
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "alignment",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": 1,
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "border_color",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "#FFFFFF",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "font",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "梦桃体",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "font_size",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": 24,
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "letter_spacing",
                "input": {
                  "type": "float",
                  "value": {
                    "type": "literal",
                    "content": 0,
                    "rawMeta": {
                      "type": 4
                    }
                  }
                }
              },
              {
                "name": "text_color",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "#ff7100",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "transform_x",
                "input": {
                  "type": "float",
                  "value": {
                    "type": "literal",
                    "content": 0,
                    "rawMeta": {
                      "type": 4
                    }
                  }
                }
              },
              {
                "name": "transform_y",
                "input": {
                  "type": "float",
                  "value": {
                    "type": "literal",
                    "content": 0,
                    "rawMeta": {
                      "type": 4
                    }
                  }
                }
              }
            ],
            "settingOnError": {
              "processType": 1,
              "timeoutMs": 180000,
              "retryTimes": 0
            }
          },
          "outputs": [
            {
              "type": "string",
              "name": "draft_url",
              "required": false
            },
            {
              "type": "list",
              "name": "segment_ids",
              "schema": {
                "type": "string"
              },
              "required": false
            },
            {
              "type": "list",
              "name": "segment_infos",
              "schema": {
                "type": "object",
                "schema": [
                  {
                    "type": "integer",
                    "name": "end",
                    "required": false
                  },
                  {
                    "type": "string",
                    "name": "id",
                    "required": false
                  },
                  {
                    "type": "integer",
                    "name": "start",
                    "required": false
                  }
                ]
              },
              "required": false
            },
            {
              "type": "list",
              "name": "text_ids",
              "schema": {
                "type": "string"
              },
              "required": false
            },
            {
              "type": "string",
              "name": "track_id",
              "required": false
            }
          ]
        },
        "_temp": {
          "bounds": {
            "x": 1814.4300250417944,
            "y": -320.8504928145794,
            "width": 360,
            "height": 113.9
          },
          "externalData": {
            "icon": "https://lf26-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/3778360647354254_1739242717113014582_ZXUfNgToeJ.png?lk3s=cd508e2b&x-expires=1750400007&x-signature=0VEsLuTlhbs6oXcVEraR1a0htlE%3D",
            "apiName": "add_captions",
            "pluginID": "7457837925833801768",
            "pluginProductStatus": 1,
            "pluginProductUnlistType": 0,
            "pluginType": 1,
            "spaceID": "7391771569926127635",
            "inputs": [
              {
                "description": "字间距，默认0",
                "input": {},
                "name": "letter_spacing",
                "required": false,
                "type": "float"
              },
              {
                "description": "行间距，默认0",
                "input": {},
                "name": "line_spacing",
                "required": false,
                "type": "float"
              },
              {
                "description": "0 默认。1富文本样式",
                "input": {},
                "name": "style_text",
                "required": false,
                "type": "integer"
              },
              {
                "description": "transform_y位置",
                "input": {},
                "name": "transform_y",
                "required": false,
                "type": "float"
              },
              {
                "description": "字幕的对齐方式，0左对齐，1 居中对齐，2右对齐",
                "input": {},
                "name": "alignment",
                "required": false,
                "type": "integer"
              },
              {
                "description": "边框颜色，eg：#fe8a80",
                "input": {},
                "name": "border_color",
                "required": false,
                "type": "string"
              },
              {
                "description": "草稿地址，使用create_draft输出的draft_url即可",
                "input": {},
                "name": "draft_url",
                "required": true,
                "type": "string"
              },
              {
                "description": "scale_x缩放",
                "input": {},
                "name": "scale_x",
                "required": false,
                "type": "float"
              },
              {
                "description": "scale_y缩放",
                "input": {},
                "name": "scale_y",
                "required": false,
                "type": "float"
              },
              {
                "description": "文字颜色：#ff1837",
                "input": {},
                "name": "text_color",
                "required": false,
                "type": "string"
              },
              {
                "description": "transform_x位置",
                "input": {},
                "name": "transform_x",
                "required": false,
                "type": "float"
              },
              {
                "description": "查看说明：https://krxc4izye0.feishu.cn/wiki/HhQrw3BFhi1XGOkkJCBcfkqGnwf?from=from_copylink",
                "input": {},
                "name": "captions",
                "required": true,
                "type": "string"
              },
              {
                "description": "字体列表：https://krxc4izye0.feishu.cn/wiki/SmnrwabXriG7JckEzyGcChk4nDd",
                "input": {},
                "name": "font",
                "required": false,
                "type": "string"
              },
              {
                "description": "默认：15",
                "input": {},
                "name": "font_size",
                "required": false,
                "type": "integer"
              }
            ],
            "outputs": [
              {
                "input": {},
                "name": "segment_infos",
                "required": false,
                "schema": {
                  "schema": [
                    {
                      "input": {},
                      "name": "end",
                      "required": false,
                      "type": "integer"
                    },
                    {
                      "input": {},
                      "name": "id",
                      "required": false,
                      "type": "string"
                    },
                    {
                      "input": {},
                      "name": "start",
                      "required": false,
                      "type": "integer"
                    }
                  ],
                  "type": "object"
                },
                "type": "list"
              },
              {
                "input": {},
                "name": "text_ids",
                "required": false,
                "schema": {
                  "assistType": 0,
                  "type": "string"
                },
                "type": "list"
              },
              {
                "input": {},
                "name": "track_id",
                "required": false,
                "type": "string"
              },
              {
                "input": {},
                "name": "draft_url",
                "required": false,
                "type": "string"
              },
              {
                "input": {},
                "name": "segment_ids",
                "required": false,
                "schema": {
                  "assistType": 0,
                  "type": "string"
                },
                "type": "list"
              }
            ],
            "updateTime": 1747807587,
            "latestVersionTs": "0",
            "latestVersionName": "",
            "versionName": "",
            "description": "批量添加字幕",
            "title": "add_captions",
            "mainColor": "#CA61FF"
          }
        }
      },
      {
        "id": "1190196",
        "type": "4",
        "meta": {
          "position": {
            "x": 1450.6740873226788,
            "y": -371.0163677853641
          }
        },
        "data": {
          "nodeMeta": {
            "description": "批量添加音频",
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg",
            "subtitle": "视频合成_剪映小助手:add_audios",
            "title": "添加背景音乐"
          },
          "inputs": {
            "apiParam": [
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7457837925833834536",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "add_audios",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7457837925833801768",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "视频合成_剪映小助手",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginVersion"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "tips"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "outDocLink"
              }
            ],
            "inputDefs": [
              {
                "description": "[{\"audio_url\": \"http://example.com/audio1.mp3\",\"duration\":120,\"start\":0,\"end\":12000000,\"audio_effect\":\"教堂\"}]",
                "input": {},
                "name": "audio_infos",
                "required": true,
                "type": "string"
              },
              {
                "description": "草稿地址，使用create_draft输出的draft_url即可",
                "input": {},
                "name": "draft_url",
                "required": true,
                "type": "string"
              }
            ],
            "inputParameters": [
              {
                "name": "audio_infos",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "163547",
                      "name": "bgAudioData"
                    },
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "draft_url",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "168118",
                      "name": "draft_url"
                    },
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              }
            ],
            "settingOnError": {
              "processType": 1,
              "timeoutMs": 180000,
              "retryTimes": 0
            }
          },
          "outputs": [
            {
              "type": "list",
              "name": "audio_ids",
              "schema": {
                "type": "string"
              },
              "required": false
            },
            {
              "type": "string",
              "name": "draft_url",
              "required": false
            },
            {
              "type": "string",
              "name": "track_id",
              "required": false
            }
          ]
        },
        "_temp": {
          "bounds": {
            "x": 1270.6740873226788,
            "y": -371.0163677853641,
            "width": 360,
            "height": 113.9
          },
          "externalData": {
            "icon": "https://lf26-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/3778360647354254_1739242717113014582_ZXUfNgToeJ.png?lk3s=cd508e2b&x-expires=1750400007&x-signature=0VEsLuTlhbs6oXcVEraR1a0htlE%3D",
            "apiName": "add_audios",
            "pluginID": "7457837925833801768",
            "pluginProductStatus": 1,
            "pluginProductUnlistType": 0,
            "pluginType": 1,
            "spaceID": "7391771569926127635",
            "inputs": [
              {
                "description": "[{\"audio_url\": \"http://example.com/audio1.mp3\",\"duration\":120,\"start\":0,\"end\":12000000,\"audio_effect\":\"教堂\"}]",
                "input": {},
                "name": "audio_infos",
                "required": true,
                "type": "string"
              },
              {
                "description": "草稿地址，使用create_draft输出的draft_url即可",
                "input": {},
                "name": "draft_url",
                "required": true,
                "type": "string"
              }
            ],
            "outputs": [
              {
                "input": {},
                "name": "audio_ids",
                "required": false,
                "schema": {
                  "assistType": 0,
                  "type": "string"
                },
                "type": "list"
              },
              {
                "input": {},
                "name": "draft_url",
                "required": false,
                "type": "string"
              },
              {
                "input": {},
                "name": "track_id",
                "required": false,
                "type": "string"
              }
            ],
            "updateTime": 1747807587,
            "latestVersionTs": "0",
            "latestVersionName": "",
            "versionName": "",
            "description": "批量添加音频",
            "title": "add_audios",
            "mainColor": "#CA61FF"
          }
        }
      },
      {
        "id": "120984",
        "type": "5",
        "meta": {
          "position": {
            "x": 1450.6740873226788,
            "y": -215.5021553759318
          }
        },
        "data": {
          "nodeMeta": {
            "description": "编写代码，处理输入变量来生成返回值",
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg",
            "subTitle": "代码",
            "title": "代码_关键帧"
          },
          "inputs": {
            "inputParameters": [
              {
                "name": "segment_ids",
                "input": {
                  "type": "list",
                  "schema": {
                    "type": "string"
                  },
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "109941",
                      "name": "segment_ids"
                    },
                    "rawMeta": {
                      "type": 99
                    }
                  }
                }
              },
              {
                "name": "duration_list",
                "input": {
                  "type": "list",
                  "schema": {
                    "type": "integer"
                  },
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "121555",
                      "name": "duration_list"
                    },
                    "rawMeta": {
                      "type": 100
                    }
                  }
                }
              },
              {
                "name": "segment_infos",
                "input": {
                  "type": "list",
                  "schema": {
                    "type": "object",
                    "schema": [
                      {
                        "type": "integer",
                        "name": "end",
                        "required": false
                      },
                      {
                        "type": "string",
                        "name": "id",
                        "required": false
                      },
                      {
                        "type": "integer",
                        "name": "start",
                        "required": false
                      }
                    ]
                  },
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "1087428",
                      "name": "segment_infos"
                    },
                    "rawMeta": {
                      "type": 103
                    }
                  }
                }
              }
            ],
            "code": "import json\n\nasync def main(args: Args) -> Output:\n    params = args.params\n    segment_ids = params['segment_ids']\n    times = params['duration_list']\n    seg = params['segment_infos']\n    \n    # 验证参数长度一致性\n    if len(segment_ids) != len(times):\n        raise ValueError(\"segment_ids与times数组长度不一致\")\n    \n    keyframes = []\n    \n    for idx, seg_id in enumerate(segment_ids):\n        if idx == 0:  # 跳过第一张图片\n            continue\n        \n        # 获取对应音频时长并转换微秒\n        audio_duration = int(float(times[idx]))\n        \n        # 根据循环索引决定缩放方向\n        cycle_idx = idx - 1  # 计算排除第一个元素后的循环索引\n        if cycle_idx % 2 == 0:  # 偶数索引：1.0 -> 1.5\n            start_scale = 1.0\n            end_scale = 1.5\n        else:  # 奇数索引：1.5 -> 1.0\n            start_scale = 1.5\n            end_scale = 1.0\n        \n        # 起始关键帧（0秒位置）\n        keyframes.append({\n            \"offset\": 0,\n            \"property\": \"UNIFORM_SCALE\",\n            \"segment_id\": seg_id,\n            \"value\": start_scale,\n            \"easing\": \"linear\"\n        })\n        \n        # 结束关键帧（同步音频时长）\n        keyframes.append({\n            \"offset\": audio_duration,  # 使用实际音频时长\n            \"property\": \"UNIFORM_SCALE\",\n            \"segment_id\": seg_id,\n            \"value\": end_scale,\n            \"easing\": \"linear\"\n        })\n    \n    \n    # 起始关键帧（0秒位置）\n    keyframes.append({\n        \"offset\": 0,\n        \"property\": \"UNIFORM_SCALE\",\n        \"segment_id\": seg[0]['id'],\n        \"value\": 2,\n        \"easing\": \"linear\"\n    })\n\n    keyframes.append({\n        \"offset\": 533333,\n        \"property\": \"UNIFORM_SCALE\",\n        \"segment_id\": seg[0]['id'],\n        \"value\": 1.2,\n        \"easing\": \"linear\"\n    })\n    \n        \n    # 结束关键帧（同步音频时长）\n    keyframes.append({\n        \"offset\": seg[0]['end']-seg[0]['start'],  # 使用实际音频时长\n        \"property\": \"UNIFORM_SCALE\",\n        \"segment_id\": seg[0]['id'],\n        \"value\": 1.0,\n        \"easing\": \"linear\"\n    })\n    \n\n    return {\n        \"keyFrames\": json.dumps(keyframes)\n    }\n\n",
            "language": 3,
            "settingOnError": {
              "switch": false,
              "processType": 1,
              "timeoutMs": 60000,
              "retryTimes": 0
            }
          },
          "outputs": [
            {
              "type": "string",
              "name": "keyFrames",
              "required": false
            }
          ]
        },
        "_temp": {
          "bounds": {
            "x": 1270.6740873226788,
            "y": -215.5021553759318,
            "width": 360,
            "height": 113.9
          },
          "externalData": {
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg",
            "description": "编写代码，处理输入变量来生成返回值",
            "title": "代码",
            "mainColor": "#00B2B2"
          }
        }
      },
      {
        "id": "146723",
        "type": "4",
        "meta": {
          "position": {
            "x": 1994.4300250417944,
            "y": -1033.2059173997209
          }
        },
        "data": {
          "nodeMeta": {
            "description": "添加关键帧",
            "icon": "https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/f013e4af74224258a37363a531aecefe~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1746810641&x-signature=nre7vy5iSw43%2Bkt5noyLIVGGEq4%3D",
            "subtitle": "视频合成_剪映小助手:add_keyframes",
            "title": "添加关键帧"
          },
          "inputs": {
            "apiParam": [
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7465608338500452404",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "add_keyframes",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7457837925833801768",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "视频合成_剪映小助手",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginVersion"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "tips"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "outDocLink"
              }
            ],
            "inputParameters": [
              {
                "name": "draft_url",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "168118",
                      "name": "draft_url"
                    },
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "keyframes",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "120984",
                      "name": "keyFrames"
                    },
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              }
            ],
            "settingOnError": {
              "processType": 1,
              "timeoutMs": 180000,
              "retryTimes": 0
            }
          },
          "outputs": [
            {
              "type": "string",
              "name": "draft_url",
              "required": false
            }
          ]
        },
        "_temp": {
          "bounds": {
            "x": 1814.4300250417944,
            "y": -1033.2059173997209,
            "width": 360,
            "height": 113.9
          },
          "externalData": {
            "icon": "https://lf9-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/3778360647354254_1739242717113014582_ZXUfNgToeJ.png?lk3s=cd508e2b&x-expires=1750400007&x-signature=O%2BS6DuVP925kS2BFGu6tKistXTI%3D",
            "apiName": "add_keyframes",
            "pluginID": "7457837925833801768",
            "pluginProductStatus": 1,
            "pluginProductUnlistType": 0,
            "pluginType": 1,
            "spaceID": "7391771569926127635",
            "inputs": [
              {
                "description": "草稿地址，使用create_draft输出的draft_url即可",
                "input": {},
                "name": "draft_url",
                "required": true,
                "type": "string"
              },
              {
                "description": "关键帧数据，格式： [     {       \"offset\": 5000000,       \"property\": \"KFTypePositionX\",       \"segment_id\": \"acc5b516-046b-4eae-a179-f686f35e70a8\",       \"value\": 0     }   ]",
                "input": {},
                "name": "keyframes",
                "required": true,
                "type": "string"
              }
            ],
            "outputs": [
              {
                "input": {},
                "name": "draft_url",
                "required": false,
                "type": "string"
              }
            ],
            "updateTime": 1747807587,
            "latestVersionTs": "0",
            "latestVersionName": "",
            "versionName": "",
            "description": "添加关键帧",
            "title": "add_keyframes",
            "mainColor": "#CA61FF"
          }
        }
      },
      {
        "id": "1301843",
        "type": "3",
        "meta": {
          "position": {
            "x": -1080.289544006918,
            "y": -1310.892210953641
          }
        },
        "data": {
          "nodeMeta": {
            "description": "调用大语言模型,使用变量和提示词生成回复",
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg",
            "subTitle": "大模型",
            "title": "大模型_主角首图"
          },
          "inputs": {
            "inputParameters": [
              {
                "name": "scenes",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "121343",
                      "name": "content"
                    },
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              }
            ],
            "llmParam": [
              {
                "name": "temperature",
                "input": {
                  "type": "float",
                  "value": {
                    "type": "literal",
                    "content": "0.8",
                    "rawMeta": {
                      "type": 4
                    }
                  }
                }
              },
              {
                "name": "maxTokens",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "8192",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "responseFormat",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "2",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "modleName",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "DeepSeek-V3",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "modelType",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "1738675210",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "generationDiversity",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "default_val",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "prompt",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "故事信息：{{scenes}}",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "enableChatHistory",
                "input": {
                  "type": "boolean",
                  "value": {
                    "type": "literal",
                    "content": false,
                    "rawMeta": {
                      "type": 3
                    }
                  }
                }
              },
              {
                "name": "chatHistoryRound",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "3",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "systemPrompt",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "# 角色\n你是一位擅长生成卡通可爱风格绘画提示词的创作助手，能够依据故事信息，精准生成用于描绘故事主角开场的绘画提示词desc_prompt。\n\n## 技能\n### 技能 1: 生成绘画提示\n1. 仔细分析故事信息，紧扣卡通可爱风格要求，生成主角任务绘画提示词desc_prompt。需详细且生动地描述人物动作、表情、服装等细节，同时明确色彩风格。\n  - 风格要求：呈现卡通可爱风格，背景简洁明亮，颜色鲜艳活泼，营造出轻松欢快的氛围。人物身着独特可爱的服装，线条圆润柔和，为人物特写，采用细腻手笔，具备高饱和度色彩、清晰画面的特点。\n  - 画面仅出现一个正对屏幕、位于画面正中间的人物。\n\n# 限制\n1. 仅输出绘画提示词，不输出任何其他额外内容。",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              }
            ],
            "settingOnError": {
              "switch": false,
              "processType": 1,
              "timeoutMs": 180000,
              "retryTimes": 0
            }
          },
          "outputs": [
            {
              "type": "string",
              "name": "desc_promopt",
              "required": false
            }
          ],
          "version": "3"
        },
        "_temp": {
          "bounds": {
            "x": -1260.289544006918,
            "y": -1310.892210953641,
            "width": 360,
            "height": 165.9
          },
          "externalData": {
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg",
            "description": "调用大语言模型,使用变量和提示词生成回复",
            "title": "大模型",
            "mainColor": "#5C62FF"
          }
        }
      },
      {
        "id": "1866199",
        "type": "16",
        "meta": {
          "position": {
            "x": -587.6817252759081,
            "y": -1324.0746343250876
          }
        },
        "data": {
          "inputs": {
            "apiParam": null,
            "inputParameters": [
              {
                "name": "desc_promopt",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "1301843",
                      "name": "desc_promopt"
                    },
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              }
            ],
            "modelSetting": {
              "custom_ratio": {
                "height": 768,
                "width": 1024
              },
              "ddim_steps": 40,
              "images_reference": {},
              "model": 8,
              "ratio": 0
            },
            "prompt": {
              "negative_prompt": "",
              "prompt": "{{desc_promopt}}"
            },
            "references": [],
            "settingOnError": {
              "switch": false,
              "processType": 1,
              "timeoutMs": 60000,
              "retryTimes": 0
            }
          },
          "nodeMeta": {
            "description": "通过文字描述/添加参考图生成图片",
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-ImageGeneration-v2.jpg",
            "title": "图像生成_主角首图",
            "subTitle": "图像生成"
          },
          "outputs": [
            {
              "type": "string",
              "assistType": 2,
              "name": "data",
              "required": false
            },
            {
              "type": "string",
              "name": "msg",
              "required": false
            }
          ],
          "settings": null,
          "version": ""
        },
        "_temp": {
          "bounds": {
            "x": -767.6817252759081,
            "y": -1324.0746343250876,
            "width": 360,
            "height": 165.9
          },
          "externalData": {
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-ImageGeneration-v2.jpg",
            "description": "通过文字描述/添加参考图生成图片",
            "title": "图像生成",
            "mainColor": "#FF4DC3"
          }
        }
      },
      {
        "id": "170966",
        "type": "4",
        "meta": {
          "position": {
            "x": -15.684062247109352,
            "y": -1324.0746343250876
          }
        },
        "data": {
          "nodeMeta": {
            "description": "保留图片前景主体，输出透明背景(.png)",
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-plugin-cutout-v2.jpg",
            "subtitle": "抠图:cutout",
            "title": "cutout-扣除背景"
          },
          "inputs": {
            "apiParam": [
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7438919188246429731",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "cutout",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7438919188246413347",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "抠图",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginVersion"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "tips"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "outDocLink"
              }
            ],
            "inputParameters": [
              {
                "name": "url",
                "input": {
                  "type": "string",
                  "assistType": 2,
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "1866199",
                      "name": "data"
                    },
                    "rawMeta": {
                      "type": 7
                    }
                  }
                }
              },
              {
                "name": "only_mask",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "0"
                  }
                }
              },
              {
                "name": "output_mode",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "0"
                  }
                }
              }
            ],
            "settingOnError": {
              "processType": 1,
              "timeoutMs": 180000,
              "retryTimes": 0
            }
          },
          "outputs": [
            {
              "type": "string",
              "assistType": 2,
              "name": "data",
              "required": false,
              "description": "透明背景图，在输出模式为透明背景时生效"
            },
            {
              "type": "string",
              "name": "mask",
              "required": false,
              "description": "抠图区域蒙板矢量图，在输出模式为蒙版矢量图时生效"
            },
            {
              "type": "string",
              "name": "msg",
              "required": false
            }
          ]
        },
        "_temp": {
          "bounds": {
            "x": -195.68406224710935,
            "y": -1324.0746343250876,
            "width": 360,
            "height": 137.9
          },
          "externalData": {
            "icon": "https://lf3-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/1682717607724762_1737442217436398717_QfrWIv9q70.jpg?lk3s=cd508e2b&x-expires=1750400007&x-signature=%2BobFAgpHOQ%2FZW58at3QGaBmY%2BHw%3D",
            "apiName": "cutout",
            "pluginID": "7438919188246413347",
            "pluginProductStatus": 1,
            "pluginProductUnlistType": 0,
            "pluginType": 1,
            "spaceID": "7352795533666664448",
            "inputs": [
              {
                "defaultValue": 0,
                "description": "结果图尺寸，支持返回抠图结果尺寸(去除透明长宽)和原图尺寸, enum list is [0,3], default value is 0",
                "enum": [
                  0,
                  3
                ],
                "enumVarNames": [
                  "抠图结果尺寸",
                  "原图尺寸"
                ],
                "input": {},
                "name": "only_mask",
                "required": false,
                "title": "产物尺寸",
                "type": "integer"
              },
              {
                "defaultValue": 0,
                "description": "输出图模式，可选透明背景图/蒙版矢量图, enum list is [0,1], default value is 0",
                "enum": [
                  0,
                  1
                ],
                "enumVarNames": [
                  "透明背景图",
                  "蒙版矢量图"
                ],
                "input": {},
                "name": "output_mode",
                "required": false,
                "title": "输出图模式",
                "type": "integer"
              },
              {
                "description": "自定义抠图内容的提示词，不填时默认保留主体抠图",
                "input": {},
                "name": "prompt",
                "required": false,
                "title": "提示词",
                "type": "string"
              },
              {
                "assistType": 2,
                "description": "待抠图的图片",
                "input": {},
                "name": "url",
                "required": true,
                "title": "上传图",
                "type": "image"
              }
            ],
            "outputs": [
              {
                "assistType": 2,
                "description": "透明背景图，在输出模式为透明背景时生效",
                "input": {},
                "name": "data",
                "required": false,
                "type": "image"
              },
              {
                "description": "抠图区域蒙板矢量图，在输出模式为蒙版矢量图时生效",
                "input": {},
                "name": "mask",
                "required": false,
                "type": "string"
              },
              {
                "input": {},
                "name": "msg",
                "required": false,
                "type": "string"
              }
            ],
            "updateTime": 1747807900,
            "latestVersionTs": "0",
            "latestVersionName": "",
            "versionName": "",
            "description": "",
            "title": "cutout",
            "mainColor": "#CA61FF"
          }
        }
      },
      {
        "id": "1087428",
        "type": "4",
        "meta": {
          "position": {
            "x": 1463.7593617792725,
            "y": -526.5305801947964
          }
        },
        "data": {
          "nodeMeta": {
            "description": "批量添加图片",
            "icon": "https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/324427c7589a426286a9774fa69f64a2~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1744472328&x-signature=9GXsgm2HH29uW0ihgoymUTYxCmc%3D",
            "subtitle": "视频合成_剪映小助手:add_images",
            "title": "添加首图角色图片"
          },
          "inputs": {
            "apiParam": [
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7457837925833883688",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "add_images",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "apiName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7457837925833801768",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginID"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "视频合成_剪映小助手",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginName"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "pluginVersion"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "tips"
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    },
                    "type": "literal"
                  }
                },
                "name": "outDocLink"
              }
            ],
            "inputDefs": [
              {
                "description": "草稿地址，使用create_draft输出的draft_url即可",
                "input": {},
                "name": "draft_url",
                "required": true,
                "type": "string"
              },
              {
                "description": "查看说明：https://krxc4izye0.feishu.cn/wiki/Pgm9wXA4EipKhYkeEQJcLBlJnWb?from=from_copylink",
                "input": {},
                "name": "image_infos",
                "required": true,
                "type": "string"
              },
              {
                "description": "x缩放",
                "input": {},
                "name": "scale_x",
                "required": false,
                "type": "float"
              },
              {
                "description": "y缩放",
                "input": {},
                "name": "scale_y",
                "required": false,
                "type": "float"
              },
              {
                "description": "移动transform_x",
                "input": {},
                "name": "transform_x",
                "required": false,
                "type": "float"
              },
              {
                "description": "移动transform_y",
                "input": {},
                "name": "transform_y",
                "required": false,
                "type": "float"
              }
            ],
            "inputParameters": [
              {
                "name": "draft_url",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "168118",
                      "name": "draft_url"
                    },
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "image_infos",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "163547",
                      "name": "roleImgData"
                    },
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "scale_x",
                "input": {
                  "type": "float",
                  "value": {
                    "type": "literal",
                    "content": 2,
                    "rawMeta": {
                      "type": 4
                    }
                  }
                }
              },
              {
                "name": "scale_y",
                "input": {
                  "type": "float",
                  "value": {
                    "type": "literal",
                    "content": 2,
                    "rawMeta": {
                      "type": 4
                    }
                  }
                }
              }
            ],
            "settingOnError": {
              "processType": 1,
              "timeoutMs": 180000,
              "retryTimes": 0
            }
          },
          "outputs": [
            {
              "type": "list",
              "name": "segment_infos",
              "schema": {
                "type": "object",
                "schema": [
                  {
                    "type": "integer",
                    "name": "end",
                    "required": false
                  },
                  {
                    "type": "string",
                    "name": "id",
                    "required": false
                  },
                  {
                    "type": "integer",
                    "name": "start",
                    "required": false
                  }
                ]
              },
              "required": false
            },
            {
              "type": "string",
              "name": "track_id",
              "required": false
            },
            {
              "type": "string",
              "name": "draft_url",
              "required": false
            },
            {
              "type": "list",
              "name": "image_ids",
              "schema": {
                "type": "string"
              },
              "required": false
            },
            {
              "type": "list",
              "name": "segment_ids",
              "schema": {
                "type": "string"
              },
              "required": false
            }
          ]
        },
        "_temp": {
          "bounds": {
            "x": 1283.7593617792725,
            "y": -526.5305801947964,
            "width": 360,
            "height": 113.9
          },
          "externalData": {
            "icon": "https://lf3-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/3778360647354254_1739242717113014582_ZXUfNgToeJ.png?lk3s=cd508e2b&x-expires=1750400007&x-signature=4Ylg%2Fuepg8DVkmX9L%2FoZx%2B77z%2BM%3D",
            "apiName": "add_images",
            "pluginID": "7457837925833801768",
            "pluginProductStatus": 1,
            "pluginProductUnlistType": 0,
            "pluginType": 1,
            "spaceID": "7391771569926127635",
            "inputs": [
              {
                "description": "y缩放",
                "input": {},
                "name": "scale_y",
                "required": false,
                "type": "float"
              },
              {
                "description": "移动transform_x",
                "input": {},
                "name": "transform_x",
                "required": false,
                "type": "float"
              },
              {
                "description": "移动transform_y",
                "input": {},
                "name": "transform_y",
                "required": false,
                "type": "float"
              },
              {
                "description": "草稿地址，使用create_draft输出的draft_url即可",
                "input": {},
                "name": "draft_url",
                "required": true,
                "type": "string"
              },
              {
                "description": "查看说明：https://krxc4izye0.feishu.cn/wiki/Pgm9wXA4EipKhYkeEQJcLBlJnWb?from=from_copylink",
                "input": {},
                "name": "image_infos",
                "required": true,
                "type": "string"
              },
              {
                "description": "x缩放",
                "input": {},
                "name": "scale_x",
                "required": false,
                "type": "float"
              }
            ],
            "outputs": [
              {
                "input": {},
                "name": "draft_url",
                "required": false,
                "type": "string"
              },
              {
                "input": {},
                "name": "image_ids",
                "required": false,
                "schema": {
                  "assistType": 0,
                  "type": "string"
                },
                "type": "list"
              },
              {
                "input": {},
                "name": "segment_ids",
                "required": false,
                "schema": {
                  "assistType": 0,
                  "type": "string"
                },
                "type": "list"
              },
              {
                "input": {},
                "name": "segment_infos",
                "required": false,
                "schema": {
                  "schema": [
                    {
                      "input": {},
                      "name": "end",
                      "required": false,
                      "type": "integer"
                    },
                    {
                      "input": {},
                      "name": "id",
                      "required": false,
                      "type": "string"
                    },
                    {
                      "input": {},
                      "name": "start",
                      "required": false,
                      "type": "integer"
                    }
                  ],
                  "type": "object"
                },
                "type": "list"
              },
              {
                "input": {},
                "name": "track_id",
                "required": false,
                "type": "string"
              }
            ],
            "updateTime": 1747807587,
            "latestVersionTs": "0",
            "latestVersionName": "",
            "versionName": "",
            "description": "批量添加图片",
            "title": "add_images",
            "mainColor": "#CA61FF"
          }
        }
      },
      {
        "id": "159377",
        "type": "13",
        "meta": {
          "position": {
            "x": 2991.265394789499,
            "y": -1047.7556798909563
          }
        },
        "data": {
          "inputs": {
            "content": {
              "type": "string",
              "value": {
                "type": "literal",
                "content": "剪映草稿地址如下{{output}}"
              }
            },
            "inputParameters": [
              {
                "name": "output",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "104782",
                      "name": "draft_url"
                    },
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              }
            ],
            "streamingOutput": false,
            "callTransferVoice": true,
            "chatHistoryWriting": "historyWrite"
          },
          "nodeMeta": {
            "description": "节点从“消息”更名为“输出”，支持中间过程的消息输出，支持流式和非流式两种方式",
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Output-v2.jpg",
            "mainColor": "#5C62FF",
            "subTitle": "输出",
            "title": "输出"
          }
        },
        "_temp": {
          "bounds": {
            "x": 2811.265394789499,
            "y": -1047.7556798909563,
            "width": 360,
            "height": 113.9
          },
          "externalData": {
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Output-v2.jpg",
            "description": "节点从“消息”更名为“输出”，支持中间过程的消息输出，支持流式和非流式两种方式",
            "title": "输出",
            "mainColor": "#5C62FF"
          }
        }
      }
    ],
    "edges": [
      {
        "sourceNodeID": "121343",
        "targetNodeID": "1165778"
      },
      {
        "sourceNodeID": "121343",
        "targetNodeID": "1301843"
      },
      {
        "sourceNodeID": "186126",
        "targetNodeID": "121555"
      },
      {
        "sourceNodeID": "121555",
        "targetNodeID": "163547",
        "sourcePortID": "batch-output"
      },
      {
        "sourceNodeID": "170966",
        "targetNodeID": "163547"
      },
      {
        "sourceNodeID": "163547",
        "targetNodeID": "168118"
      },
      {
        "sourceNodeID": "1165778",
        "targetNodeID": "186126"
      },
      {
        "sourceNodeID": "168118",
        "targetNodeID": "125268"
      },
      {
        "sourceNodeID": "125268",
        "targetNodeID": "109941"
      },
      {
        "sourceNodeID": "146723",
        "targetNodeID": "180947"
      },
      {
        "sourceNodeID": "180947",
        "targetNodeID": "1204256"
      },
      {
        "sourceNodeID": "109941",
        "targetNodeID": "1087428"
      },
      {
        "sourceNodeID": "1204256",
        "targetNodeID": "158201"
      },
      {
        "sourceNodeID": "158201",
        "targetNodeID": "1182713"
      },
      {
        "sourceNodeID": "1182713",
        "targetNodeID": "104782"
      },
      {
        "sourceNodeID": "104782",
        "targetNodeID": "159377"
      },
      {
        "sourceNodeID": "1087428",
        "targetNodeID": "1190196"
      },
      {
        "sourceNodeID": "1190196",
        "targetNodeID": "120984"
      },
      {
        "sourceNodeID": "120984",
        "targetNodeID": "146723"
      },
      {
        "sourceNodeID": "1301843",
        "targetNodeID": "1866199"
      },
      {
        "sourceNodeID": "1866199",
        "targetNodeID": "170966"
      }
    ]
  },
  "bounds": {
    "x": -1868.7173134741558,
    "y": -1324.0746343250876,
    "width": 5039.982708263655,
    "height": 1222.4724789491559
  }
}