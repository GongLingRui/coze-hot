{
  "type": "coze-workflow-clipboard-data",
  "source": {
    "workflowId": "7490385478816399394",
    "flowMode": 0,
    "spaceId": "7395390088370880563",
    "isDouyin": false,
    "host": "www.coze.cn"
  },
  "json": {
    "nodes": [
      {
        "id": "194983",
        "type": "4",
        "meta": {
          "position": {
            "x": 1100,
            "y": 139
          }
        },
        "data": {
          "nodeMeta": {
            "description": "当你需要获取网页、pdf、抖音视频内容时，使用此工具。可以获取url链接下的标题和内容。",
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Api.png",
            "title": "LinkReaderPlugin"
          },
          "inputs": {
            "apiParam": [
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7379227817307029513",
                    "dependencies": {
                      "variables": null
                    },
                    "inputMode": "",
                    "type": "literal"
                  }
                },
                "left": {},
                "name": "apiID",
                "right": {}
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "LinkReaderPlugin",
                    "dependencies": {
                      "variables": null
                    },
                    "inputMode": "",
                    "type": "literal"
                  }
                },
                "left": {},
                "name": "apiName",
                "right": {}
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "7379227817307013129",
                    "dependencies": {
                      "variables": null
                    },
                    "inputMode": "",
                    "type": "literal"
                  }
                },
                "left": {},
                "name": "pluginID",
                "right": {}
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "链接读取",
                    "dependencies": {
                      "variables": null
                    },
                    "inputMode": "",
                    "type": "literal"
                  }
                },
                "left": {},
                "name": "pluginName",
                "right": {}
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "dependencies": {
                      "variables": null
                    },
                    "inputMode": "",
                    "type": "literal"
                  }
                },
                "left": {},
                "name": "pluginVersion",
                "right": {}
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "dependencies": {
                      "variables": null
                    },
                    "inputMode": "",
                    "type": "literal"
                  }
                },
                "left": {},
                "name": "tips",
                "right": {}
              },
              {
                "input": {
                  "type": "string",
                  "value": {
                    "content": "",
                    "dependencies": {
                      "variables": null
                    },
                    "inputMode": "",
                    "type": "literal"
                  }
                },
                "left": {},
                "name": "outDocLink",
                "right": {}
              },
              {
                "input": {
                  "type": "integer",
                  "value": {
                    "content": 1747812399,
                    "type": "literal"
                  }
                },
                "name": "updateTime"
              }
            ],
            "inputParameters": [
              {
                "name": "url",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "101005",
                      "name": "output"
                    }
                  }
                }
              }
            ],
            "settingOnError": {
              "switch": false,
              "processType": 1,
              "timeoutMs": 180000,
              "retryTimes": 0
            }
          },
          "outputs": [
            {
              "type": "integer",
              "name": "code",
              "required": false,
              "description": "错误码"
            },
            {
              "type": "object",
              "name": "data",
              "schema": [
                {
                  "type": "string",
                  "name": "title",
                  "required": false
                },
                {
                  "type": "string",
                  "name": "content",
                  "required": false
                },
                {
                  "type": "list",
                  "name": "images",
                  "schema": {
                    "type": "object",
                    "schema": [
                      {
                        "type": "string",
                        "name": "alt",
                        "required": false
                      },
                      {
                        "type": "integer",
                        "name": "height",
                        "required": false
                      },
                      {
                        "type": "string",
                        "name": "title",
                        "required": false
                      },
                      {
                        "type": "string",
                        "name": "url",
                        "required": false
                      },
                      {
                        "type": "integer",
                        "name": "width",
                        "required": false
                      }
                    ]
                  },
                  "required": false
                }
              ],
              "required": false,
              "description": "网页的内容"
            },
            {
              "type": "string",
              "name": "err_msg",
              "required": false,
              "description": "错误信息"
            },
            {
              "type": "string",
              "name": "error_code",
              "required": false,
              "description": "错误码"
            },
            {
              "type": "string",
              "name": "error_msg",
              "required": false,
              "description": "错误信息"
            },
            {
              "type": "string",
              "name": "message",
              "required": false,
              "description": "错误信息"
            },
            {
              "type": "string",
              "name": "pdf_content",
              "required": false,
              "description": "pdf的内容"
            }
          ]
        },
        "_temp": {
          "bounds": {
            "x": 920,
            "y": 139,
            "width": 360,
            "height": 137.9
          },
          "externalData": {
            "icon": "https://lf3-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/372098605791453_1733129140009182679_PnsFgsWuUu.png?lk3s=cd508e2b&x-expires=1750404402&x-signature=67pkL87Xv3glr0SWqLnDN0y7YIw%3D",
            "apiName": "LinkReaderPlugin",
            "pluginID": "7379227817307013129",
            "pluginProductStatus": 1,
            "pluginProductUnlistType": 0,
            "pluginType": 1,
            "spaceID": "7315016311652941851",
            "inputs": [
              {
                "description": "是否需要返回图片url",
                "input": {},
                "name": "need_image_url",
                "required": false,
                "type": "boolean"
              },
              {
                "description": "网页url、pdf url、docx url、csv url、 xlsx url。",
                "input": {},
                "name": "url",
                "required": true,
                "type": "string"
              }
            ],
            "outputs": [
              {
                "description": "错误码",
                "input": {},
                "name": "code",
                "required": false,
                "type": "integer"
              },
              {
                "description": "网页的内容",
                "input": {},
                "name": "data",
                "required": false,
                "schema": [
                  {
                    "input": {},
                    "name": "title",
                    "required": false,
                    "type": "string"
                  },
                  {
                    "input": {},
                    "name": "content",
                    "required": false,
                    "type": "string"
                  },
                  {
                    "input": {},
                    "name": "images",
                    "required": false,
                    "schema": {
                      "schema": [
                        {
                          "input": {},
                          "name": "alt",
                          "required": false,
                          "type": "string"
                        },
                        {
                          "input": {},
                          "name": "height",
                          "required": false,
                          "type": "integer"
                        },
                        {
                          "input": {},
                          "name": "title",
                          "required": false,
                          "type": "string"
                        },
                        {
                          "input": {},
                          "name": "url",
                          "required": false,
                          "type": "string"
                        },
                        {
                          "input": {},
                          "name": "width",
                          "required": false,
                          "type": "integer"
                        }
                      ],
                      "type": "object"
                    },
                    "type": "list"
                  }
                ],
                "type": "object"
              },
              {
                "description": "错误信息",
                "input": {},
                "name": "err_msg",
                "required": false,
                "type": "string"
              },
              {
                "description": "错误码",
                "input": {},
                "name": "error_code",
                "required": false,
                "type": "string"
              },
              {
                "description": "错误信息",
                "input": {},
                "name": "error_msg",
                "required": false,
                "type": "string"
              },
              {
                "description": "错误信息",
                "input": {},
                "name": "message",
                "required": false,
                "type": "string"
              },
              {
                "description": "pdf的内容",
                "input": {},
                "name": "pdf_content",
                "required": false,
                "type": "string"
              }
            ],
            "updateTime": 1747812399,
            "latestVersionTs": "0",
            "latestVersionName": "",
            "versionName": "",
            "description": "当你需要获取网页、pdf、doc、docx、xlsx、csv、text 内容时，使用此工具，可以获取url链接下的标题和内容。由于个别网站自身站点限制，无法获取网页内容。",
            "title": "LinkReaderPlugin",
            "mainColor": "#CA61FF"
          }
        }
      },
      {
        "id": "101005",
        "type": "3",
        "meta": {
          "position": {
            "x": 640,
            "y": 0
          }
        },
        "data": {
          "nodeMeta": {
            "description": "调用大语言模型,使用变量和提示词生成回复",
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg",
            "title": "链接识别",
            "subTitle": "大模型"
          },
          "inputs": {
            "inputParameters": [
              {
                "name": "input",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "100001",
                      "name": "URL"
                    }
                  }
                }
              }
            ],
            "llmParam": [
              {
                "name": "modelType",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "1170276404",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "modleName",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "ep-20240923104952-9tfr5",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "generationDiversity",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "balance",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "temperature",
                "input": {
                  "type": "float",
                  "value": {
                    "type": "literal",
                    "content": "1",
                    "rawMeta": {
                      "type": 4
                    }
                  }
                }
              },
              {
                "name": "topP",
                "input": {
                  "type": "float",
                  "value": {
                    "type": "literal",
                    "content": "0.7",
                    "rawMeta": {
                      "type": 4
                    }
                  }
                }
              },
              {
                "name": "responseFormat",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "2",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "maxTokens",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "1024",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "prompt",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "识别{{input}}中的链接\n## 限制\n1.只输出网址",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "enableChatHistory",
                "input": {
                  "type": "boolean",
                  "value": {
                    "type": "literal",
                    "content": false,
                    "rawMeta": {
                      "type": 3
                    }
                  }
                }
              },
              {
                "name": "chatHistoryRound",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "3",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "systemPrompt",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "识别{{input}}中的链接\n## 限制\n1.只输出网址",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              }
            ],
            "settingOnError": {
              "switch": false,
              "processType": 1,
              "timeoutMs": 600000,
              "retryTimes": 0
            }
          },
          "outputs": [
            {
              "type": "string",
              "name": "output",
              "required": false
            }
          ],
          "version": "3"
        },
        "_temp": {
          "bounds": {
            "x": 460,
            "y": 0,
            "width": 360,
            "height": 165.9
          },
          "externalData": {
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg",
            "description": "调用大语言模型,使用变量和提示词生成回复",
            "title": "大模型",
            "mainColor": "#5C62FF"
          }
        }
      },
      {
        "id": "113375",
        "type": "3",
        "meta": {
          "position": {
            "x": 1560,
            "y": 54
          }
        },
        "data": {
          "nodeMeta": {
            "description": "调用大语言模型,使用变量和提示词生成回复",
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg",
            "title": "脚本生成（可根据需求进行结构调整）",
            "subTitle": "大模型"
          },
          "inputs": {
            "inputParameters": [
              {
                "name": "input",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "ref",
                    "content": {
                      "source": "block-output",
                      "blockID": "194983",
                      "name": "data.content"
                    }
                  }
                }
              }
            ],
            "llmParam": [
              {
                "name": "modelType",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "1170276404",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "modleName",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "ep-20240923104952-9tfr5",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "generationDiversity",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "balance",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "temperature",
                "input": {
                  "type": "float",
                  "value": {
                    "type": "literal",
                    "content": "1",
                    "rawMeta": {
                      "type": 4
                    }
                  }
                }
              },
              {
                "name": "topP",
                "input": {
                  "type": "float",
                  "value": {
                    "type": "literal",
                    "content": "0.7",
                    "rawMeta": {
                      "type": 4
                    }
                  }
                }
              },
              {
                "name": "responseFormat",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "2",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "maxTokens",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "1024",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "prompt",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "#角色：你是一位专业的视频分镜脚本工程师，专注于为抖音平台打造爆款视频脚本。你将根据用户的给出的文本内容，来制作出一个分镜视频脚本，脚本呈现形式为表格形式。确保脚本内容清晰、准确，并符合视频制作的要求。\n\n#任务：请根据{{input}}，严格遵循下面的规则要求，创作一份满足用户脚本需求的分镜视频脚本，视频分镜脚本以表格形式呈现\n\n#技能\n##1.内容理解能力：能够准确理解内容的主题、情节、角色和关键信息，以及视频的整体风格和节奏。\n##2.内容纠错能力：在处理文本时，以精准识别所有错别字。这包括但不限于同音字误用、形近字混淆以及常见拼写错误。并且将错位的内容进行改正\n##3.将内容转化为分镜视频脚本，并且必须以表格形式呈现。\n##4.脚本表格生成能力：将内容按照【表格结构】和【表格要求】来进行内容填充和完善\n###【表格结构】\n 1.表格表头为 6个，分别为“镜头号”、“景别”“时长”、“镜头运动”、“画面内容”、“台词\\旁白”\n###【表格要求】：\n1.镜号：为每个镜头分配一个唯一的编号，以便后续管理和引用。\n2.景别：景别是指由于摄影机与被摄体的距离不同，而造成被摄体在摄影机寻像器中所呈现出的范围大小的区别根据内容，描述内容景别信息，如近景、中景、远景、特写。\n3.画面内容：详细描述每个镜头中应展示的画面内容，包括场景、人物、动作等。\n4.台词/旁白：如有需要，请在此列中添加每个镜头中的台词或旁白内容。\n5.时长：为每个镜头设定一个大致的时长，以秒为单位。\n6.镜头运动：描述镜头的运动方式，如推、拉、摇、移等，以及镜头的起始和结束位置。\n##5.创意构思能力：根据输入的内容，能够构思出与文本内容贴合的时间、景别、画面内容、台词/旁白、动作、细节内容等元素，提升视频脚本的丰富性。\n\n#限制\n##保持原意：在转化过程中，必须确保不改变内容的原意和核心信息，保持内容的完整性和准确性。\n时长控制：为每个镜头设定的时长应合理，符合视频的整体节奏和时长要求。\n创意合理性：创意构思应合理、可行，符合视频制作的实际情况和限制条件。",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              },
              {
                "name": "enableChatHistory",
                "input": {
                  "type": "boolean",
                  "value": {
                    "type": "literal",
                    "content": false,
                    "rawMeta": {
                      "type": 3
                    }
                  }
                }
              },
              {
                "name": "chatHistoryRound",
                "input": {
                  "type": "integer",
                  "value": {
                    "type": "literal",
                    "content": "3",
                    "rawMeta": {
                      "type": 2
                    }
                  }
                }
              },
              {
                "name": "systemPrompt",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "",
                    "rawMeta": {
                      "type": 1
                    }
                  }
                }
              }
            ],
            "settingOnError": {
              "switch": false,
              "processType": 1,
              "timeoutMs": 600000,
              "retryTimes": 0
            }
          },
          "outputs": [
            {
              "type": "string",
              "name": "script",
              "required": false
            }
          ],
          "version": "3"
        },
        "_temp": {
          "bounds": {
            "x": 1380,
            "y": 54,
            "width": 360,
            "height": 165.9
          },
          "externalData": {
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg",
            "description": "调用大语言模型,使用变量和提示词生成回复",
            "title": "大模型",
            "mainColor": "#5C62FF"
          }
        }
      },
      {
        "id": "182369",
        "type": "13",
        "meta": {
          "position": {
            "x": 640,
            "y": 264
          }
        },
        "data": {
          "inputs": {
            "content": {
              "type": "string",
              "value": {
                "type": "literal",
                "content": "已经识别到相关链接，正在读取"
              }
            },
            "inputParameters": [
              {
                "name": "output",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "已经识别到相关链接，正在读取"
                  }
                }
              }
            ],
            "streamingOutput": false,
            "callTransferVoice": true,
            "chatHistoryWriting": "historyWrite"
          },
          "nodeMeta": {
            "description": "支持中间过程的消息输出，支持流式和非流式两种方式",
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Output-v2.jpg",
            "subTitle": "输出",
            "title": "链接识别提示（可替换，可删除）"
          }
        },
        "_temp": {
          "bounds": {
            "x": 460,
            "y": 264,
            "width": 360,
            "height": 137.9
          },
          "externalData": {
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Output-v2.jpg",
            "description": "节点从“消息”更名为“输出”，支持中间过程的消息输出，支持流式和非流式两种方式",
            "title": "输出",
            "mainColor": "#5C62FF"
          }
        }
      },
      {
        "id": "192728",
        "type": "13",
        "meta": {
          "position": {
            "x": 2020,
            "y": 267
          }
        },
        "data": {
          "inputs": {
            "content": {
              "type": "string",
              "value": {
                "type": "literal",
                "content": "视频正在解析，分镜脚本生成中"
              }
            },
            "inputParameters": [
              {
                "name": "output",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "视频正在解析，分镜脚本生成中"
                  }
                }
              }
            ],
            "streamingOutput": false,
            "callTransferVoice": true,
            "chatHistoryWriting": "historyWrite"
          },
          "nodeMeta": {
            "description": "支持中间过程的消息输出，支持流式和非流式两种方式",
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Output-v2.jpg",
            "subTitle": "输出",
            "title": "脚本生成提示，可替换，可删除"
          }
        },
        "_temp": {
          "bounds": {
            "x": 1840,
            "y": 267,
            "width": 360,
            "height": 137.9
          },
          "externalData": {
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Output-v2.jpg",
            "description": "节点从“消息”更名为“输出”，支持中间过程的消息输出，支持流式和非流式两种方式",
            "title": "输出",
            "mainColor": "#5C62FF"
          }
        }
      },
      {
        "id": "173318",
        "type": "13",
        "meta": {
          "position": {
            "x": 2020,
            "y": 4
          }
        },
        "data": {
          "inputs": {
            "content": {
              "type": "string",
              "value": {
                "type": "literal",
                "content": "脚本已经生成"
              }
            },
            "inputParameters": [
              {
                "name": "output",
                "input": {
                  "type": "string",
                  "value": {
                    "type": "literal",
                    "content": "脚本已经生成"
                  }
                }
              }
            ],
            "streamingOutput": false,
            "callTransferVoice": true,
            "chatHistoryWriting": "historyWrite"
          },
          "nodeMeta": {
            "description": "支持中间过程的消息输出，支持流式和非流式两种方式",
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Output-v2.jpg",
            "subTitle": "输出",
            "title": "脚本生成消息（可替换，可删除）"
          }
        },
        "_temp": {
          "bounds": {
            "x": 1840,
            "y": 4,
            "width": 360,
            "height": 137.9
          },
          "externalData": {
            "icon": "https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Output-v2.jpg",
            "description": "节点从“消息”更名为“输出”，支持中间过程的消息输出，支持流式和非流式两种方式",
            "title": "输出",
            "mainColor": "#5C62FF"
          }
        }
      }
    ],
    "edges": [
      {
        "sourceNodeID": "101005",
        "targetNodeID": "194983"
      },
      {
        "sourceNodeID": "182369",
        "targetNodeID": "194983"
      },
      {
        "sourceNodeID": "194983",
        "targetNodeID": "113375"
      },
      {
        "sourceNodeID": "194983",
        "targetNodeID": "192728"
      },
      {
        "sourceNodeID": "113375",
        "targetNodeID": "173318"
      }
    ]
  },
  "bounds": {
    "x": 460,
    "y": 0,
    "width": 1740,
    "height": 404.9
  }
}